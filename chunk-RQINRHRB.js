import{a as x,b as G,c as F,e as J,f as K}from"./chunk-LO27TSUG.js";import{a as H}from"./chunk-62WRAV4J.js";import{a as V}from"./chunk-FRVBFDPB.js";import{b as i,c as m,l as M,m as C,n as v,o as B,s as h,t as T}from"./chunk-ZWB3OEA7.js";import{E as O}from"./chunk-EKAGKNH6.js";import{C as A,N as w,aa as N,ba as z,fa as j,g as k,ka as S,m as y,r as f,t as $}from"./chunk-UXABPLNP.js";import{a as d,b as u}from"./chunk-MON7YFGF.js";var D=i("[Employee] Load Employees",m()),L=i("[Employee] Load Employees Success",m()),R=i("[Employee] Load Employees Failure",m()),Q=i("[Employee] Load Filterd Employees",m()),W=i("[Employee] Load Filterd Employees Success",m()),X=i("[Employee] Load Filterd Employees Failure",m()),Y=i("[Employee] Create Employee",m()),b=i("[Employee] Create Employee Success",m()),Z=i("[Employee] Create Employee Failure",m()),ee=i("[Employee] Update Employee",m()),P=i("[Employee] Update Employee Success",m()),te=i("[Employee] Update Employee Failure",m()),oe=i("[Employee] Delete Employee",m()),q=i("[Employee] Delete Employee Success",m()),se=i("[Employee] Delete Employee Failure",m());var n=V({selectId:e=>e._id});var U=B("employees"),{selectAll:g,selectEntities:pe,selectIds:he,selectTotal:le}=n.getSelectors(U),fe=v(g,pe,le,U,(e,l,t,s)=>{let{pageNo:a,pageSize:r}=s,p=(a-1)*r,o=p+r,c=e.slice(p,o);return{entities:l,total:t,pageNo:a,pageSize:r,data:c}}),Ae=v(g,pe,le,U,(e,l,t,s)=>{let{pageNo:a,pageSize:r}=s,p=a*r,o=p+r,c=e.slice(p,o);return{entities:l,total:t,pageNo:a,pageSize:r,data:c}}),Se=v(U,e=>e.totalData);var I=H,ie=(()=>{class e extends J{constructor(t){super(t),this.employeeDataSubject=new k([]),this.employeeData$=this.employeeDataSubject.asObservable()}create(t){return this.http.post(`${I.API_URL}employees.json`,t)}getAllItems(t){let{queryParams:s}=this.initializeRequest(t);return this.http.get(`${I.API_URL}employees.json`).pipe(N(a=>{this.employeeDataSubject.next(a.data)}))}updateItem(t,s){return this.http.put(`${I.API_URL}employees.json`,s)}deleteItem(t){return this.http.delete(`${I.API_URL}employees.json`)}getItem(t){throw new Error("Method not implemented.")}checkPhone(t){let s={};s.phone=t,s.pageNo=50;let{queryParams:a}=this.initializeRequest(s);return this.http.get(`${I.API_URL}/employees/check-phone/${t}?${a}`)}search(t,s){let{queryParams:a}=this.initializeRequest(s);return this.http.get(`${I.API_URL}/employees/search/${t}?${a}`)}static{this.\u0275fac=function(s){return new(s||e)(S(O))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var qe=(()=>{class e{constructor(t,s,a){this.actions$=t,this.employeesService=s,this.store=a,this.getAllItems$=x(()=>this.actions$.pipe(F(D),z(this.store.pipe(C(g))),w(([r,p])=>p.length===0?this.employeesService.getAllItems(r.request).pipe(f(o=>{let c=o.data.map(E=>u(d({},E),{id:E.user_id,_id:E.user_id})),_=o.totalData;return L({employees:c,totalData:_})}),A(o=>y(R({error:o})))):y()))),this.getFilterdItems$=x(()=>this.actions$.pipe(F(Q),z(this.store.pipe(C(g))),w(([r,p])=>p.length===0?this.employeesService.getAllItems(r.request).pipe(f(o=>{let c=o.data.map(E=>u(d({},E),{id:E.user_id,_id:E.user_id})),_=o.totalData;return W({employees:c,totalData:_})}),A(o=>y(X({error:o})))):y()))),this.createEmployee$=x(()=>this.actions$.pipe(F(Y),$(({employee:r})=>this.employeesService.create(r).pipe(f(p=>{let o=p.data[0];return b({employee:o})}),A(p=>y(Z({error:p}))))))),this.updateEmployee$=x(()=>this.actions$.pipe(F(ee),$(({id:r,newItem:p})=>this.employeesService.updateItem(r,p).pipe(f(o=>{let c=o.data[0];return P({employee:c})}),A(o=>y(te({error:o}))))))),this.deleteEmployee$=x(()=>this.actions$.pipe(F(oe),$(({employeeId:r})=>this.employeesService.deleteItem(r).pipe(f(()=>q({employeeId:r})),A(p=>y(se({error:p})))))))}static{this.\u0275fac=function(s){return new(s||e)(S(G),S(ie),S(M))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();var me=n.getInitialState(new K);var Me=T(me,h(D,(e,{pageNo:l,pageSize:t,sortBy:s,sortOrder:a,filterBy:r,filterValue:p,findById:o})=>u(d({},e),{pageNo:l,pageSize:t,loading:!0,error:null,sortBy:s,sortOrder:a,filterBy:r,filterValue:p,findById:o})),h(L,(e,{employees:l,totalData:t})=>n.setAll(l,u(d({},e),{totalData:t,loading:!1}))),h(R,(e,{error:l})=>u(d({},e),{error:l,loading:!1})),h(b,(e,{employee:l})=>n.addOne(l,e)),h(P,(e,{employee:l})=>n.updateOne({id:l._id,changes:l},e)),h(q,(e,{employeeId:l})=>n.removeOne(l,e)));export{D as a,Q as b,Y as c,ee as d,oe as e,pe as f,le as g,Ae as h,qe as i,Me as j};
