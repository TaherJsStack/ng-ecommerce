import{a as vr,b as Tr}from"./chunk-SWQHAR2Y.js";import{i as br,j as wr}from"./chunk-XYXOR42T.js";import{i as ur,j as hr}from"./chunk-U6QJE2JM.js";import{i as pr,j as fr}from"./chunk-ACG6KOPW.js";import{i as dr,j as mr}from"./chunk-GCVKVGMB.js";import{i as gr,j as yr}from"./chunk-NS2RRWFP.js";import{i as Sr,j as Ar}from"./chunk-PYC2RNC5.js";import{a as Er,b as _r}from"./chunk-M2CRSI4Q.js";import{b as nt}from"./chunk-WE62FCLU.js";import{a as qi,b as le,c as ze,d as Ki,e as Vi,f as Qi,g as Wi,h as Gi,i as Hi,j as Xi,k as ot,l as at,m as Yi}from"./chunk-QFCX3JCB.js";import{i as sr,j as ir}from"./chunk-T2B4W73D.js";import{j as rr,k as nr}from"./chunk-QC7TEHWC.js";import"./chunk-XY6G34ZD.js";import{a as or,b as ar}from"./chunk-PKHQRGVE.js";import"./chunk-JHWSTTDQ.js";import{a as lr,b as cr}from"./chunk-Y7VQT46G.js";import{a as K,b as Oe,c as V,d as tr,e as ut}from"./chunk-5SPO2ULR.js";import"./chunk-PMIXLXAC.js";import"./chunk-FDANLT4R.js";import{a as X,e as lt,i as Zi,j as Ji,k as er}from"./chunk-GZYRISK6.js";import"./chunk-D75AJNE6.js";import{a as T,b as se,e as Di,f as Jt,m as Me,n as es,o as st}from"./chunk-4YRY4IP2.js";import"./chunk-QIWOYWJC.js";import{a as ct}from"./chunk-L7L4RKUY.js";import{a as Li,b as D,c as O,d as ts,e as it,f as xi,g as $i,h as ji,i as ss,j as zi,k as Ui,l as ie,m as Ce,n as re,o as rt,r as Bi,s as $,t as De}from"./chunk-5JVEGXLZ.js";import{a as wi,b as Ri,d as Pi,e as Ii,j as Ni,k as Ne,n as Mi,o as Ci}from"./chunk-BXWG62GK.js";import{b as me,c as Ti,d as bi}from"./chunk-I3TFT3JE.js";import{a as Oi,b as ki,d as Fi}from"./chunk-DB6LPKCG.js";import{d as vi}from"./chunk-YR4PHHHU.js";import{$ as et,A as Ht,B as Pe,C as B,E as oi,F as ai,Fa as mi,H as li,Ia as gi,Lb as Ei,N as Je,Ra as Zt,V as ci,W as ui,Y as hi,_ as de,aa as te,ba as Ie,c as $e,ca as R,fa as x,g as Ze,ga as Xt,h as ti,i as si,ia as je,j as ii,jb as Ee,jc as _i,k as ri,ka as E,la as Ae,m as z,mb as yi,nb as Si,pb as Ai,q as ni,qb as tt,r as C,ra as pi,sa as Yt,t as fe,va as fi,wa as di}from"./chunk-W3XNKEV5.js";import{a as F,b as j,c as ei}from"./chunk-MON7YFGF.js";function Rr(i){return new R(3e3,!1)}function co(){return new R(3100,!1)}function uo(){return new R(3101,!1)}function ho(i){return new R(3001,!1)}function po(i){return new R(3003,!1)}function fo(i){return new R(3004,!1)}function mo(i,t){return new R(3005,!1)}function go(){return new R(3006,!1)}function yo(){return new R(3007,!1)}function So(i,t){return new R(3008,!1)}function Ao(i){return new R(3002,!1)}function Eo(i,t,e,s,r){return new R(3010,!1)}function _o(){return new R(3011,!1)}function vo(){return new R(3012,!1)}function To(){return new R(3200,!1)}function bo(){return new R(3202,!1)}function wo(){return new R(3013,!1)}function Ro(i){return new R(3014,!1)}function Po(i){return new R(3015,!1)}function Io(i){return new R(3016,!1)}function No(i,t){return new R(3404,!1)}function Mo(i){return new R(3502,!1)}function Co(i){return new R(3503,!1)}function Do(){return new R(3300,!1)}function Oo(i){return new R(3504,!1)}function ko(i){return new R(3301,!1)}function Fo(i,t){return new R(3302,!1)}function Lo(i){return new R(3303,!1)}function xo(i,t){return new R(3400,!1)}function $o(i){return new R(3401,!1)}function jo(i){return new R(3402,!1)}function zo(i,t){return new R(3505,!1)}function ge(i){switch(i.length){case 0:return new Me;case 1:return i[0];default:return new es(i)}}function zr(i,t,e=new Map,s=new Map){let r=[],n=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),h=c==o,u=h&&a||new Map;l.forEach((d,g)=>{let p=g,f=d;if(g!=="offset")switch(p=i.normalizePropertyName(p,r),f){case st:f=e.get(g);break;case se:f=s.get(g);break;default:f=i.normalizeStyleValue(g,p,f,r);break}u.set(p,f)}),h||n.push(u),a=u,o=c}),r.length)throw Mo(r);return n}function ws(i,t,e,s){switch(t){case"start":i.onStart(()=>s(e&&is(e,"start",i)));break;case"done":i.onDone(()=>s(e&&is(e,"done",i)));break;case"destroy":i.onDestroy(()=>s(e&&is(e,"destroy",i)));break}}function is(i,t,e){let s=e.totalTime,r=!!e.disabled,n=Rs(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,s??i.totalTime,r),o=i._data;return o!=null&&(n._data=o),n}function Rs(i,t,e,s,r="",n=0,o){return{element:i,triggerName:t,fromState:e,toState:s,phaseName:r,totalTime:n,disabled:!!o}}function G(i,t,e){let s=i.get(t);return s||i.set(t,s=e),s}function Pr(i){let t=i.indexOf(":"),e=i.substring(1,t),s=i.slice(t+1);return[e,s]}var Uo=typeof document>"u"?null:document.documentElement;function Ps(i){let t=i.parentNode||i.host||null;return t===Uo?null:t}function Bo(i){return i.substring(1,6)=="ebkit"}var _e=null,Ir=!1;function qo(i){_e||(_e=Ko()||{},Ir=_e.style?"WebkitAppearance"in _e.style:!1);let t=!0;return _e.style&&!Bo(i)&&(t=i in _e.style,!t&&Ir&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in _e.style)),t}function Ko(){return typeof document<"u"?document.body:null}function Ur(i,t){for(;t;){if(t===i)return!0;t=Ps(t)}return!1}function Br(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let s=i.querySelector(t);return s?[s]:[]}var Is=(()=>{class i{validateStyleProperty(e){return qo(e)}matchesElement(e,s){return!1}containsElement(e,s){return Ur(e,s)}getParentElement(e){return Ps(e)}query(e,s,r){return Br(e,s,r)}computeStyle(e,s,r){return r||""}animate(e,s,r,n,o,a=[],l){return new Me(r,n)}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac})}}return i})(),be=class{static{this.NOOP=new Is}},we=class{};var Vo=1e3,qr="{{",Qo="}}",Kr="ng-enter",cs="ng-leave",ht="ng-trigger",gt=".ng-trigger",Nr="ng-animating",us=".ng-animating";function ce(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:hs(parseFloat(t[1]),t[2])}function hs(i,t){switch(t){case"s":return i*Vo;default:return i}}function yt(i,t,e){return i.hasOwnProperty("duration")?i:Wo(i,t,e)}function Wo(i,t,e){let s=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,n=0,o="";if(typeof i=="string"){let a=i.match(s);if(a===null)return t.push(Rr(i)),{duration:0,delay:0,easing:""};r=hs(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(n=hs(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=i;if(!e){let a=!1,l=t.length;r<0&&(t.push(co()),a=!0),n<0&&(t.push(uo()),a=!0),a&&t.splice(l,0,Rr(i))}return{duration:r,delay:n,easing:o}}function Go(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function ne(i,t,e){t.forEach((s,r)=>{let n=Ns(r);e&&!e.has(r)&&e.set(r,i.style[n]),i.style[n]=s})}function Te(i,t){t.forEach((e,s)=>{let r=Ns(s);i.style[r]=""})}function Ue(i){return Array.isArray(i)?i.length==1?i[0]:Di(i):i}function Ho(i,t,e){let s=t.params||{},r=Vr(i);r.length&&r.forEach(n=>{s.hasOwnProperty(n)||e.push(ho(n))})}var ps=new RegExp(`${qr}\\s*(.+?)\\s*${Qo}`,"g");function Vr(i){let t=[];if(typeof i=="string"){let e;for(;e=ps.exec(i);)t.push(e[1]);ps.lastIndex=0}return t}function qe(i,t,e){let s=`${i}`,r=s.replace(ps,(n,o)=>{let a=t[o];return a==null&&(e.push(po(o)),a=""),a.toString()});return r==s?i:r}var Xo=/-+([a-z0-9])/g;function Ns(i){return i.replace(Xo,(...t)=>t[1].toUpperCase())}function Yo(i,t){return i===0||t===0}function Zo(i,t,e){if(e.size&&t.length){let s=t[0],r=[];if(e.forEach((n,o)=>{s.has(o)||r.push(o),s.set(o,n)}),r.length)for(let n=1;n<t.length;n++){let o=t[n];r.forEach(a=>o.set(a,Ms(i,a)))}}return t}function W(i,t,e){switch(t.type){case T.Trigger:return i.visitTrigger(t,e);case T.State:return i.visitState(t,e);case T.Transition:return i.visitTransition(t,e);case T.Sequence:return i.visitSequence(t,e);case T.Group:return i.visitGroup(t,e);case T.Animate:return i.visitAnimate(t,e);case T.Keyframes:return i.visitKeyframes(t,e);case T.Style:return i.visitStyle(t,e);case T.Reference:return i.visitReference(t,e);case T.AnimateChild:return i.visitAnimateChild(t,e);case T.AnimateRef:return i.visitAnimateRef(t,e);case T.Query:return i.visitQuery(t,e);case T.Stagger:return i.visitStagger(t,e);default:throw fo(t.type)}}function Ms(i,t){return window.getComputedStyle(i)[t]}var Jo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),St=class extends we{normalizePropertyName(t,e){return Ns(t)}normalizeStyleValue(t,e,s,r){let n="",o=s.toString().trim();if(Jo.has(e)&&s!==0&&s!=="0")if(typeof s=="number")n="px";else{let a=s.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(mo(t,s))}return o+n}};var At="*";function ea(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(s=>ta(s,e,t)):e.push(i),e}function ta(i,t,e){if(i[0]==":"){let l=sa(i,e);if(typeof l=="function"){t.push(l);return}i=l}let s=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(s==null||s.length<4)return e.push(Po(i)),t;let r=s[1],n=s[2],o=s[3];t.push(Mr(r,o));let a=r==At&&o==At;n[0]=="<"&&!a&&t.push(Mr(o,r))}function sa(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return t.push(Io(i)),"* => *"}}var pt=new Set(["true","1"]),ft=new Set(["false","0"]);function Mr(i,t){let e=pt.has(i)||ft.has(i),s=pt.has(t)||ft.has(t);return(r,n)=>{let o=i==At||i==r,a=t==At||t==n;return!o&&e&&typeof r=="boolean"&&(o=r?pt.has(i):ft.has(i)),!a&&s&&typeof n=="boolean"&&(a=n?pt.has(t):ft.has(t)),o&&a}}var Qr=":self",ia=new RegExp(`s*${Qr}s*,?`,"g");function Wr(i,t,e,s){return new fs(i).build(t,e,s)}var Cr="",fs=class{constructor(t){this._driver=t}build(t,e,s){let r=new ds(e);return this._resetContextStyleTimingState(r),W(this,Ue(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=Cr,t.collectedStyles=new Map,t.collectedStyles.set(Cr,new Map),t.currentTime=0}visitTrigger(t,e){let s=e.queryCount=0,r=e.depCount=0,n=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(go()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==T.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,n.push(this.visitState(l,e))}),l.name=c}else if(a.type==T.Transition){let l=this.visitTransition(a,e);s+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(yo())}),{type:T.Trigger,name:t.name,states:n,transitions:o,queryCount:s,depCount:r,options:null}}visitState(t,e){let s=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(s.containsDynamicStyles){let n=new Set,o=r||{};s.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Vr(l).forEach(c=>{o.hasOwnProperty(c)||n.add(c)})})}),n.size&&e.errors.push(So(t.name,[...n.values()]))}return{type:T.State,name:t.name,style:s,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let s=W(this,Ue(t.animation),e),r=ea(t.expr,e.errors);return{type:T.Transition,matchers:r,animation:s,queryCount:e.queryCount,depCount:e.depCount,options:ve(t.options)}}visitSequence(t,e){return{type:T.Sequence,steps:t.steps.map(s=>W(this,s,e)),options:ve(t.options)}}visitGroup(t,e){let s=e.currentTime,r=0,n=t.steps.map(o=>{e.currentTime=s;let a=W(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:T.Group,steps:n,options:ve(t.options)}}visitAnimate(t,e){let s=aa(t.timings,e.errors);e.currentAnimateTimings=s;let r,n=t.styles?t.styles:Jt({});if(n.type==T.Keyframes)r=this.visitKeyframes(n,e);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};s.easing&&(c.easing=s.easing),o=Jt(c)}e.currentTime+=s.duration+s.delay;let l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:T.Animate,timings:s,style:r,options:null}}visitStyle(t,e){let s=this._makeStyleAst(t,e);return this._validateStyleAst(s,e),s}_makeStyleAst(t,e){let s=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===se?s.push(a):e.errors.push(Ao(a)):s.push(new Map(Object.entries(a)));let n=!1,o=null;return s.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!n)){for(let l of a.values())if(l.toString().indexOf(qr)>=0){n=!0;break}}}),{type:T.Style,styles:s,easing:o,offset:t.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(t,e){let s=e.currentAnimateTimings,r=e.currentTime,n=e.currentTime;s&&n>0&&(n-=s.duration+s.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),h=c.get(l),u=!0;h&&(n!=r&&n>=h.startTime&&r<=h.endTime&&(e.errors.push(Eo(l,h.startTime,h.endTime,n,r)),u=!1),n=h.startTime),u&&c.set(l,{startTime:n,endTime:r}),e.options&&Ho(a,e.options,e.errors)})})}visitKeyframes(t,e){let s={type:T.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(_o()),s;let r=1,n=0,o=[],a=!1,l=!1,c=0,h=t.steps.map(v=>{let P=this._makeStyleAst(v,e),N=P.offset!=null?P.offset:oa(P.styles),A=0;return N!=null&&(n++,A=P.offset=N),l=l||A<0||A>1,a=a||A<c,c=A,o.push(A),P});l&&e.errors.push(vo()),a&&e.errors.push(To());let u=t.steps.length,d=0;n>0&&n<u?e.errors.push(bo()):n==0&&(d=r/(u-1));let g=u-1,p=e.currentTime,f=e.currentAnimateTimings,_=f.duration;return h.forEach((v,P)=>{let N=d>0?P==g?1:d*P:o[P],A=N*_;e.currentTime=p+f.delay+A,f.duration=A,this._validateStyleAst(v,e),v.offset=N,s.styles.push(v)}),s}visitReference(t,e){return{type:T.Reference,animation:W(this,Ue(t.animation),e),options:ve(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:T.AnimateChild,options:ve(t.options)}}visitAnimateRef(t,e){return{type:T.AnimateRef,animation:this.visitReference(t.animation,e),options:ve(t.options)}}visitQuery(t,e){let s=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[n,o]=ra(t.selector);e.currentQuerySelector=s.length?s+" "+n:n,G(e.collectedStyles,e.currentQuerySelector,new Map);let a=W(this,Ue(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:T.Query,selector:n,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:ve(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(wo());let s=t.timings==="full"?{duration:0,delay:0,easing:"full"}:yt(t.timings,e.errors,!0);return{type:T.Stagger,animation:W(this,Ue(t.animation),e),timings:s,options:null}}};function ra(i){let t=!!i.split(/\s*,\s*/).find(e=>e==Qr);return t&&(i=i.replace(ia,"")),i=i.replace(/@\*/g,gt).replace(/@\w+/g,e=>gt+"-"+e.slice(1)).replace(/:animating/g,us),[i,t]}function na(i){return i?F({},i):null}var ds=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function oa(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let s=e;t=parseFloat(s.get("offset")),s.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function aa(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let n=yt(i,t).duration;return rs(n,0,"")}let e=i;if(e.split(/\s+/).some(n=>n.charAt(0)=="{"&&n.charAt(1)=="{")){let n=rs(0,0,"");return n.dynamic=!0,n.strValue=e,n}let r=yt(e,t);return rs(r.duration,r.delay,r.easing)}function ve(i){return i?(i=F({},i),i.params&&(i.params=na(i.params))):i={},i}function rs(i,t,e){return{duration:i,delay:t,easing:e}}function Cs(i,t,e,s,r,n,o=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:s,duration:r,delay:n,totalTime:r+n,easing:o,subTimeline:a}}var Ke=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let s=this._map.get(t);s||this._map.set(t,s=[]),s.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},la=1,ca=":enter",ua=new RegExp(ca,"g"),ha=":leave",pa=new RegExp(ha,"g");function Gr(i,t,e,s,r,n=new Map,o=new Map,a,l,c=[]){return new ms().buildKeyframes(i,t,e,s,r,n,o,a,l,c)}var ms=class{buildKeyframes(t,e,s,r,n,o,a,l,c,h=[]){c=c||new Ke;let u=new gs(t,e,c,r,n,h,[]);u.options=l;let d=l.delay?ce(l.delay):0;u.currentTimeline.delayNextStep(d),u.currentTimeline.setStyles([o],null,u.errors,l),W(this,s,u);let g=u.timelines.filter(p=>p.containsAnimation());if(g.length&&a.size){let p;for(let f=g.length-1;f>=0;f--){let _=g[f];if(_.element===e){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,u.errors,l)}return g.length?g.map(p=>p.buildKeyframes()):[Cs(e,[],[],[],0,d,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let s=e.subInstructions.get(e.element);if(s){let r=e.createSubContext(t.options),n=e.currentTimeline.currentTime,o=this._visitSubInstructions(s,r,r.options);n!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let s=e.createSubContext(t.options);s.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,s),this.visitReference(t.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,s){for(let r of t){let n=r?.delay;if(n){let o=typeof n=="number"?n:ce(qe(n,r?.params??{},e.errors));s.delayNextStep(o)}}}_visitSubInstructions(t,e,s){let n=e.currentTimeline.currentTime,o=s.duration!=null?ce(s.duration):null,a=s.delay!=null?ce(s.delay):null;return o!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,o,a);n=Math.max(n,c.duration+c.delay)}),n}visitReference(t,e){e.updateOptions(t.options,!0),W(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let s=e.subContextCount,r=e,n=t.options;if(n&&(n.params||n.delay)&&(r=e.createSubContext(n),r.transformIntoNewTimeline(),n.delay!=null)){r.previousNode.type==T.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Et);let o=ce(n.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>W(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>s&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let s=[],r=e.currentTimeline.currentTime,n=t.options&&t.options.delay?ce(t.options.delay):0;t.steps.forEach(o=>{let a=e.createSubContext(t.options);n&&a.delayNextStep(n),W(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),s.push(a.currentTimeline)}),s.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let s=t.strValue,r=e.params?qe(s,e.params,e.errors):s;return yt(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let s=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),r.snapshotCurrentStyles());let n=t.style;n.type==T.Keyframes?this.visitKeyframes(n,e):(e.incrementTime(s.duration),this.visitStyle(n,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let s=e.currentTimeline,r=e.currentAnimateTimings;!r&&s.hasCurrentStyleProperties()&&s.forwardFrame();let n=r&&r.easing||t.easing;t.isEmptyStep?s.applyEmptyStep(n):s.setStyles(t.styles,n,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let s=e.currentAnimateTimings,r=e.currentTimeline.duration,n=s.duration,a=e.createSubContext().currentTimeline;a.easing=s.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*n),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+n),e.previousNode=t}visitQuery(t,e){let s=e.currentTimeline.currentTime,r=t.options||{},n=r.delay?ce(r.delay):0;n&&(e.previousNode.type===T.Style||s==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Et);let o=s,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{e.currentQueryIndex=h;let u=e.createSubContext(t.options,c);n&&u.delayNextStep(n),c===e.element&&(l=u.currentTimeline),W(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe();let d=u.currentTimeline.currentTime;o=Math.max(o,d)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let s=e.parentContext,r=e.currentTimeline,n=t.timings,o=Math.abs(n.duration),a=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(n.duration<0?"reverse":n.easing){case"reverse":l=a-l;break;case"full":l=s.currentStaggerTime;break}let h=e.currentTimeline;l&&h.delayNextStep(l);let u=h.currentTime;W(this,t.animation,e),e.previousNode=t,s.currentStaggerTime=r.currentTime-u+(r.startTime-s.currentTimeline.startTime)}},Et={},gs=class i{constructor(t,e,s,r,n,o,a,l){this._driver=t,this.element=e,this.subInstructions=s,this._enterClassName=r,this._leaveClassName=n,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Et,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new _t(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let s=t,r=this.options;s.duration!=null&&(r.duration=ce(s.duration)),s.delay!=null&&(r.delay=ce(s.delay));let n=s.params;if(n){let o=r.params;o||(o=this.options.params={}),Object.keys(n).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=qe(n[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let s=t.params={};Object.keys(e).forEach(r=>{s[r]=e[r]})}}return t}createSubContext(t=null,e,s){let r=e||this.element,n=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,s||0));return n.previousNode=this.previousNode,n.currentAnimateTimings=this.currentAnimateTimings,n.options=this._copyOptions(),n.updateOptions(t),n.currentQueryIndex=this.currentQueryIndex,n.currentQueryTotal=this.currentQueryTotal,n.parentContext=this,this.subContextCount++,n}transformIntoNewTimeline(t){return this.previousNode=Et,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,s){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(s??0)+t.delay,easing:""},n=new ys(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(n),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,s,r,n,o){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(ua,"."+this._enterClassName),t=t.replace(pa,"."+this._leaveClassName);let l=s!=1,c=this._driver.query(this.element,t,l);s!==0&&(c=s<0?c.slice(c.length+s,c.length):c.slice(0,s)),a.push(...c)}return!n&&a.length==0&&o.push(Ro(e)),a}},_t=class i{constructor(t,e,s,r){this._driver=t,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=la,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,s]of this._globalTimelineStyles)this._backFill.set(e,s||se),this._currentKeyframe.set(e,se);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,s,r){e&&this._previousKeyframe.set("easing",e);let n=r&&r.params||{},o=fa(t,this._globalTimelineStyles);for(let[a,l]of o){let c=qe(l,n,s);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??se),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,s)=>{let r=this._styleSummary.get(s);(!r||e.time>r.time)&&this._updateStyle(s,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,s=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((h,u)=>{h===st?t.add(u):h===se&&e.add(u)}),s||c.set("offset",l/this.duration),r.push(c)});let n=[...t.values()],o=[...e.values()];if(s){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Cs(this.element,r,n,o,this.duration,this.startTime,this.easing,!1)}},ys=class extends _t{constructor(t,e,s,r,n,o,a=!1){super(t,e,o.delay),this.keyframes=s,this.preStyleProps=r,this.postStyleProps=n,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:s,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let n=[],o=s+e,a=e/o,l=new Map(t[0]);l.set("offset",0),n.push(l);let c=new Map(t[0]);c.set("offset",Dr(a)),n.push(c);let h=t.length-1;for(let u=1;u<=h;u++){let d=new Map(t[u]),g=d.get("offset"),p=e+g*s;d.set("offset",Dr(p/o)),n.push(d)}s=o,e=0,r="",t=n}return Cs(this.element,t,this.preStyleProps,this.postStyleProps,s,e,r,!0)}};function Dr(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function fa(i,t){let e=new Map,s;return i.forEach(r=>{if(r==="*"){s??=t.keys();for(let n of s)e.set(n,se)}else for(let[n,o]of r)e.set(n,o)}),e}function Or(i,t,e,s,r,n,o,a,l,c,h,u,d){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:n,toState:s,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:u,errors:d}}var ns={},vt=class{constructor(t,e,s){this._triggerName=t,this.ast=e,this._stateStyles=s}match(t,e,s,r){return da(this.ast.matchers,t,e,s,r)}buildStyles(t,e,s){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,s):new Map}build(t,e,s,r,n,o,a,l,c,h){let u=[],d=this.ast.options&&this.ast.options.params||ns,g=a&&a.params||ns,p=this.buildStyles(s,g,u),f=l&&l.params||ns,_=this.buildStyles(r,f,u),v=new Set,P=new Map,N=new Map,A=r==="void",I={params:Hr(f,d),delay:this.ast.options?.delay},b=h?[]:Gr(t,e,this.ast.animation,n,o,p,_,I,c,u),k=0;return b.forEach(M=>{k=Math.max(M.duration+M.delay,k)}),u.length?Or(e,this._triggerName,s,r,A,p,_,[],[],P,N,k,u):(b.forEach(M=>{let Z=M.element,Re=G(P,Z,new Set);M.preStyleProps.forEach(ye=>Re.add(ye));let Xs=G(N,Z,new Set);M.postStyleProps.forEach(ye=>Xs.add(ye)),Z!==e&&v.add(Z)}),Or(e,this._triggerName,s,r,A,p,_,b,[...v.values()],P,N,k))}};function da(i,t,e,s,r){return i.some(n=>n(t,e,s,r))}function Hr(i,t){let e=F({},t);return Object.entries(i).forEach(([s,r])=>{r!=null&&(e[s]=r)}),e}var Ss=class{constructor(t,e,s){this.styles=t,this.defaultParams=e,this.normalizer=s}buildStyles(t,e){let s=new Map,r=Hr(t,this.defaultParams);return this.styles.styles.forEach(n=>{typeof n!="string"&&n.forEach((o,a)=>{o&&(o=qe(o,r,e));let l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),s.set(a,o)})}),s}};function ma(i,t,e){return new As(i,t,e)}var As=class{constructor(t,e,s){this.name=t,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let n=r.options&&r.options.params||{};this.states.set(r.name,new Ss(r.style,n,s))}),kr(this.states,"true","1"),kr(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new vt(t,r,this.states))}),this.fallbackTransition=ga(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,s,r){return this.transitionFactories.find(o=>o.match(t,e,s,r))||null}matchStyles(t,e,s){return this.fallbackTransition.buildStyles(t,e,s)}};function ga(i,t,e){let s=[(o,a)=>!0],r={type:T.Sequence,steps:[],options:null},n={type:T.Transition,animation:r,matchers:s,options:null,queryCount:0,depCount:0};return new vt(i,n,t)}function kr(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var ya=new Ke,Es=class{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let s=[],r=[],n=Wr(this._driver,e,s,r);if(s.length)throw Co(s);r.length&&void 0,this._animations.set(t,n)}_buildPlayer(t,e,s){let r=t.element,n=zr(this._normalizer,t.keyframes,e,s);return this._driver.animate(r,n,t.duration,t.delay,t.easing,[],!0)}create(t,e,s={}){let r=[],n=this._animations.get(t),o,a=new Map;if(n?(o=Gr(this._driver,e,n,Kr,cs,new Map,new Map,s,ya,r),o.forEach(h=>{let u=G(a,h.element,new Map);h.postStyleProps.forEach(d=>u.set(d,null))})):(r.push(Do()),o=[]),r.length)throw Oo(r);a.forEach((h,u)=>{h.forEach((d,g)=>{h.set(g,this._driver.computeStyle(u,g,se))})});let l=o.map(h=>{let u=a.get(h.element);return this._buildPlayer(h,new Map,u)}),c=ge(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw ko(t);return e}listen(t,e,s,r){let n=Rs(e,"","","");return ws(this._getPlayer(t),s,n,r),()=>{}}command(t,e,s,r){if(s=="register"){this.register(t,r[0]);return}if(s=="create"){let o=r[0]||{};this.create(t,e,o);return}let n=this._getPlayer(t);switch(s){case"play":n.play();break;case"pause":n.pause();break;case"reset":n.reset();break;case"restart":n.restart();break;case"finish":n.finish();break;case"init":n.init();break;case"setPosition":n.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},Fr="ng-animate-queued",Sa=".ng-animate-queued",os="ng-animate-disabled",Aa=".ng-animate-disabled",Ea="ng-star-inserted",_a=".ng-star-inserted",va=[],Xr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ta={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},J="__ng_removed",Ve=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let s=t&&t.hasOwnProperty("value"),r=s?t.value:t;if(this.value=wa(r),s){let n=t,{value:o}=n,a=ei(n,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let s=this.options.params;Object.keys(e).forEach(r=>{s[r]==null&&(s[r]=e[r])})}}},Be="void",as=new Ve(Be),_s=class{constructor(t,e,s){this.id=t,this.hostElement=e,this._engine=s,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Y(e,this._hostClassName)}listen(t,e,s,r){if(!this._triggers.has(e))throw Fo(s,e);if(s==null||s.length==0)throw Lo(e);if(!Ra(s))throw xo(s,e);let n=G(this._elementListeners,t,[]),o={name:e,phase:s,callback:r};n.push(o);let a=G(this._engine.statesByElement,t,new Map);return a.has(e)||(Y(t,ht),Y(t,ht+"-"+e),a.set(e,as)),()=>{this._engine.afterFlush(()=>{let l=n.indexOf(o);l>=0&&n.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw $o(t);return e}trigger(t,e,s,r=!0){let n=this._getTrigger(e),o=new Qe(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Y(t,ht),Y(t,ht+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new Ve(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=as),!(c.value===Be)&&l.value===c.value){if(!Na(l.params,c.params)){let f=[],_=n.matchStyles(l.value,l.params,f),v=n.matchStyles(c.value,c.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(()=>{Te(t,_),ne(t,v)})}return}let d=G(this._engine.playersByElement,t,[]);d.forEach(f=>{f.namespaceId==this.id&&f.triggerName==e&&f.queued&&f.destroy()});let g=n.matchTransition(l.value,c.value,t,c.params),p=!1;if(!g){if(!r)return;g=n.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Y(t,Fr),o.onStart(()=>{ke(t,Fr)})),o.onDone(()=>{let f=this.players.indexOf(o);f>=0&&this.players.splice(f,1);let _=this._engine.playersByElement.get(t);if(_){let v=_.indexOf(o);v>=0&&_.splice(v,1)}}),this.players.push(o),d.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let s=this._engine.driver.query(t,gt,!0);s.forEach(r=>{if(r[J])return;let n=this._engine.fetchNamespacesByElement(r);n.size?n.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,s,r){let n=this._engine.statesByElement.get(t),o=new Map;if(n){let a=[];if(n.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let h=this.trigger(t,c,Be,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),s&&ge(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),s=this._engine.statesByElement.get(t);if(e&&s){let r=new Set;e.forEach(n=>{let o=n.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=s.get(o)||as,h=new Ve(Be),u=new Qe(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:h,player:u,isFallbackTransition:!0})})}}removeNode(t,e){let s=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(s.totalAnimations){let n=s.players.length?s.playersByQueriedElement.get(t):[];if(n&&n.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(s.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)s.markElementAsRemoved(this.id,t,!1,e);else{let n=t[J];(!n||n===Xr)&&(s.afterFlush(()=>this.clearElementCache(t)),s.destroyInnerAnimations(t),s._onRemovalComplete(t,e))}}insertNode(t,e){Y(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(s=>{let r=s.player;if(r.destroyed)return;let n=s.element,o=this._elementListeners.get(n);o&&o.forEach(a=>{if(a.name==s.triggerName){let l=Rs(n,s.triggerName,s.fromState.value,s.toState.value);l._data=t,ws(s.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(s)}),this._queue=[],e.sort((s,r)=>{let n=s.transition.ast.depCount,o=r.transition.ast.depCount;return n==0||o==0?n-o:this._engine.driver.containsElement(s.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},vs=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,s,r){this.bodyNode=t,this.driver=e,this._normalizer=s,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(n,o)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&t.push(s)})}),t}createNamespace(t,e){let s=new _s(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[t]=s}_balanceNamespaceList(t,e){let s=this._namespaceList,r=this.namespacesByHostElement;if(s.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=s.indexOf(l);s.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||s.unshift(t)}else s.push(t);return r.set(e,t),t}register(t,e){let s=this._namespaceLookup[t];return s||(s=this.createNamespace(t,e)),s}registerTrigger(t,e,s){let r=this._namespaceLookup[t];r&&r.register(e,s)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let s=this._fetchNamespace(t);this.namespacesByHostElement.delete(s.hostElement);let r=this._namespaceList.indexOf(s);r>=0&&this._namespaceList.splice(r,1),s.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,s=this.statesByElement.get(t);if(s){for(let r of s.values())if(r.namespaceId){let n=this._fetchNamespace(r.namespaceId);n&&e.add(n)}}return e}trigger(t,e,s,r){if(dt(e)){let n=this._fetchNamespace(t);if(n)return n.trigger(e,s,r),!0}return!1}insertNode(t,e,s,r){if(!dt(e))return;let n=e[J];if(n&&n.setForRemoval){n.setForRemoval=!1,n.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,s)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Y(t,os)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ke(t,os))}removeNode(t,e,s){if(dt(e)){this.scheduler?.notify();let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s);let n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,s)}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,s,r,n){this.collectedLeaveElements.push(e),e[J]={namespaceId:t,setForRemoval:r,hasAnimation:s,removedBeforeQueried:!1,previousTriggersValues:n}}listen(t,e,s,r,n){return dt(e)?this._fetchNamespace(t).listen(e,s,r,n):()=>{}}_buildInstruction(t,e,s,r,n){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,s,r,t.fromState.options,t.toState.options,e,n)}destroyInnerAnimations(t){let e=this.driver.query(t,gt,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,us,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ge(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[J];if(e&&e.setForRemoval){if(t[J]=Xr,e.namespaceId){this.destroyInnerAnimations(t);let s=this._fetchNamespace(e.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(os)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Aa,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,r)=>this._balanceNamespaceList(s,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++){let r=this.collectedEnterElements[s];Y(r,Ea)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let s=[];try{e=this._flushAnimations(s,t)}finally{for(let r=0;r<s.length;r++)s[r]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++){let r=this.collectedLeaveElements[s];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){let s=this._whenQuietFns;this._whenQuietFns=[],e.length?ge(e).onDone(()=>{s.forEach(r=>r())}):s.forEach(r=>r())}}reportError(t){throw jo(t)}_flushAnimations(t,e){let s=new Ke,r=[],n=new Map,o=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(m=>{h.add(m);let y=this.driver.query(m,Sa,!0);for(let S=0;S<y.length;S++)h.add(y[S])});let u=this.bodyNode,d=Array.from(this.statesByElement.keys()),g=$r(d,this.collectedEnterElements),p=new Map,f=0;g.forEach((m,y)=>{let S=Kr+f++;p.set(y,S),m.forEach(w=>Y(w,S))});let _=[],v=new Set,P=new Set;for(let m=0;m<this.collectedLeaveElements.length;m++){let y=this.collectedLeaveElements[m],S=y[J];S&&S.setForRemoval&&(_.push(y),v.add(y),S.hasAnimation?this.driver.query(y,_a,!0).forEach(w=>v.add(w)):P.add(y))}let N=new Map,A=$r(d,Array.from(v));A.forEach((m,y)=>{let S=cs+f++;N.set(y,S),m.forEach(w=>Y(w,S))}),t.push(()=>{g.forEach((m,y)=>{let S=p.get(y);m.forEach(w=>ke(w,S))}),A.forEach((m,y)=>{let S=N.get(y);m.forEach(w=>ke(w,S))}),_.forEach(m=>{this.processLeaveNode(m)})});let I=[],b=[];for(let m=this._namespaceList.length-1;m>=0;m--)this._namespaceList[m].drainQueuedTransitions(e).forEach(S=>{let w=S.player,U=S.element;if(I.push(w),this.collectedEnterElements.length){let q=U[J];if(q&&q.setForMove){if(q.previousTriggersValues&&q.previousTriggersValues.has(S.triggerName)){let Se=q.previousTriggersValues.get(S.triggerName),H=this.statesByElement.get(S.element);if(H&&H.has(S.triggerName)){let Ye=H.get(S.triggerName);Ye.value=Se,H.set(S.triggerName,Ye)}}w.destroy();return}}let ee=!u||!this.driver.containsElement(u,U),Q=N.get(U),pe=p.get(U),L=this._buildInstruction(S,s,pe,Q,ee);if(L.errors&&L.errors.length){b.push(L);return}if(ee){w.onStart(()=>Te(U,L.fromStyles)),w.onDestroy(()=>ne(U,L.toStyles)),r.push(w);return}if(S.isFallbackTransition){w.onStart(()=>Te(U,L.fromStyles)),w.onDestroy(()=>ne(U,L.toStyles)),r.push(w);return}let Js=[];L.timelines.forEach(q=>{q.stretchStartingKeyframe=!0,this.disabledNodes.has(q.element)||Js.push(q)}),L.timelines=Js,s.append(U,L.timelines);let lo={instruction:L,player:w,element:U};o.push(lo),L.queriedElements.forEach(q=>G(a,q,[]).push(w)),L.preStyleProps.forEach((q,Se)=>{if(q.size){let H=l.get(Se);H||l.set(Se,H=new Set),q.forEach((Ye,Gt)=>H.add(Gt))}}),L.postStyleProps.forEach((q,Se)=>{let H=c.get(Se);H||c.set(Se,H=new Set),q.forEach((Ye,Gt)=>H.add(Gt))})});if(b.length){let m=[];b.forEach(y=>{m.push(zo(y.triggerName,y.errors))}),I.forEach(y=>y.destroy()),this.reportError(m)}let k=new Map,M=new Map;o.forEach(m=>{let y=m.element;s.has(y)&&(M.set(y,y),this._beforeAnimationBuild(m.player.namespaceId,m.instruction,k))}),r.forEach(m=>{let y=m.element;this._getPreviousPlayers(y,!1,m.namespaceId,m.triggerName,null).forEach(w=>{G(k,y,[]).push(w),w.destroy()})});let Z=_.filter(m=>jr(m,l,c)),Re=new Map;xr(Re,this.driver,P,c,se).forEach(m=>{jr(m,l,c)&&Z.push(m)});let ye=new Map;g.forEach((m,y)=>{xr(ye,this.driver,new Set(m),l,st)}),Z.forEach(m=>{let y=Re.get(m),S=ye.get(m);Re.set(m,new Map([...y?.entries()??[],...S?.entries()??[]]))});let Wt=[],Ys=[],Zs={};o.forEach(m=>{let{element:y,player:S,instruction:w}=m;if(s.has(y)){if(h.has(y)){S.onDestroy(()=>ne(y,w.toStyles)),S.disabled=!0,S.overrideTotalTime(w.totalTime),r.push(S);return}let U=Zs;if(M.size>1){let Q=y,pe=[];for(;Q=Q.parentNode;){let L=M.get(Q);if(L){U=L;break}pe.push(Q)}pe.forEach(L=>M.set(L,U))}let ee=this._buildAnimation(S.namespaceId,w,k,n,ye,Re);if(S.setRealPlayer(ee),U===Zs)Wt.push(S);else{let Q=this.playersByElement.get(U);Q&&Q.length&&(S.parentPlayer=ge(Q)),r.push(S)}}else Te(y,w.fromStyles),S.onDestroy(()=>ne(y,w.toStyles)),Ys.push(S),h.has(y)&&r.push(S)}),Ys.forEach(m=>{let y=n.get(m.element);if(y&&y.length){let S=ge(y);m.setRealPlayer(S)}}),r.forEach(m=>{m.parentPlayer?m.syncPlayerEvents(m.parentPlayer):m.destroy()});for(let m=0;m<_.length;m++){let y=_[m],S=y[J];if(ke(y,cs),S&&S.hasAnimation)continue;let w=[];if(a.size){let ee=a.get(y);ee&&ee.length&&w.push(...ee);let Q=this.driver.query(y,us,!0);for(let pe=0;pe<Q.length;pe++){let L=a.get(Q[pe]);L&&L.length&&w.push(...L)}}let U=w.filter(ee=>!ee.destroyed);U.length?Pa(this,y,U):this.processLeaveNode(y)}return _.length=0,Wt.forEach(m=>{this.players.push(m),m.onDone(()=>{m.destroy();let y=this.players.indexOf(m);this.players.splice(y,1)}),m.play()}),Wt}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,s,r,n){let o=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!n||n==Be;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(s||r)&&(o=o.filter(a=>!(s&&s!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,s){let r=e.triggerName,n=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,h=c!==n,u=G(s,c,[]);this._getPreviousPlayers(c,h,o,a,e.toState).forEach(g=>{let p=g.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),g.destroy(),u.push(g)})}Te(n,e.fromStyles)}_buildAnimation(t,e,s,r,n,o){let a=e.triggerName,l=e.element,c=[],h=new Set,u=new Set,d=e.timelines.map(p=>{let f=p.element;h.add(f);let _=f[J];if(_&&_.removedBeforeQueried)return new Me(p.duration,p.delay);let v=f!==l,P=Ia((s.get(f)||va).map(k=>k.getRealPlayer())).filter(k=>{let M=k;return M.element?M.element===f:!1}),N=n.get(f),A=o.get(f),I=zr(this._normalizer,p.keyframes,N,A),b=this._buildPlayer(p,I,P);if(p.subTimeline&&r&&u.add(f),v){let k=new Qe(t,a,f);k.setRealPlayer(b),c.push(k)}return b});c.forEach(p=>{G(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>ba(this.playersByQueriedElement,p.element,p))}),h.forEach(p=>Y(p,Nr));let g=ge(d);return g.onDestroy(()=>{h.forEach(p=>ke(p,Nr)),ne(l,e.toStyles)}),u.forEach(p=>{G(r,p,[]).push(g)}),g}_buildPlayer(t,e,s){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,s):new Me(t.duration,t.delay)}},Qe=class{constructor(t,e,s){this.namespaceId=t,this.triggerName=e,this.element=s,this._player=new Me,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,s)=>{e.forEach(r=>ws(t,s,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){G(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function ba(i,t,e){let s=i.get(t);if(s){if(s.length){let r=s.indexOf(e);s.splice(r,1)}s.length==0&&i.delete(t)}return s}function wa(i){return i??null}function dt(i){return i&&i.nodeType===1}function Ra(i){return i=="start"||i=="done"}function Lr(i,t){let e=i.style.display;return i.style.display=t??"none",e}function xr(i,t,e,s,r){let n=[];e.forEach(l=>n.push(Lr(l)));let o=[];s.forEach((l,c)=>{let h=new Map;l.forEach(u=>{let d=t.computeStyle(c,u,r);h.set(u,d),(!d||d.length==0)&&(c[J]=Ta,o.push(c))}),i.set(c,h)});let a=0;return e.forEach(l=>Lr(l,n[a++])),o}function $r(i,t){let e=new Map;if(i.forEach(a=>e.set(a,[])),t.length==0)return e;let s=1,r=new Set(t),n=new Map;function o(a){if(!a)return s;let l=n.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=s:l=o(c),n.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==s&&e.get(l).push(a)}),e}function Y(i,t){i.classList?.add(t)}function ke(i,t){i.classList?.remove(t)}function Pa(i,t,e){ge(e).onDone(()=>i.processLeaveNode(t))}function Ia(i){let t=[];return Yr(i,t),t}function Yr(i,t){for(let e=0;e<i.length;e++){let s=i[e];s instanceof es?Yr(s.players,t):t.push(s)}}function Na(i,t){let e=Object.keys(i),s=Object.keys(t);if(e.length!=s.length)return!1;for(let r=0;r<e.length;r++){let n=e[r];if(!t.hasOwnProperty(n)||i[n]!==t[n])return!1}return!0}function jr(i,t,e){let s=e.get(i);if(!s)return!1;let r=t.get(i);return r?s.forEach(n=>r.add(n)):t.set(i,s),e.delete(i),!0}var Fe=class{constructor(t,e,s,r){this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(n,o)=>{},this._transitionEngine=new vs(t.body,e,s,r),this._timelineEngine=new Es(t.body,e,s),this._transitionEngine.onRemovalComplete=(n,o)=>this.onRemovalComplete(n,o)}registerTrigger(t,e,s,r,n){let o=t+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],h=Wr(this._driver,n,l,c);if(l.length)throw No(r,l);c.length&&void 0,a=ma(r,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,s,r){this._transitionEngine.insertNode(t,e,s,r)}onRemove(t,e,s){this._transitionEngine.removeNode(t,e,s)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,s,r){if(s.charAt(0)=="@"){let[n,o]=Pr(s),a=r;this._timelineEngine.command(n,e,o,a)}else this._transitionEngine.trigger(t,e,s,r)}listen(t,e,s,r,n){if(s.charAt(0)=="@"){let[o,a]=Pr(s);return this._timelineEngine.listen(o,e,a,n)}return this._transitionEngine.listen(t,e,s,r,n)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Ma(i,t){let e=null,s=null;return Array.isArray(t)&&t.length?(e=ls(t[0]),t.length>1&&(s=ls(t[t.length-1]))):t instanceof Map&&(e=ls(t)),e||s?new Ts(i,e,s):null}var Ts=class i{static{this.initialStylesByElement=new WeakMap}constructor(t,e,s){this._element=t,this._startStyles=e,this._endStyles=s,this._state=0;let r=i.initialStylesByElement.get(t);r||i.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ne(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ne(this._element,this._initialStyles),this._endStyles&&(ne(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Te(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Te(this._element,this._endStyles),this._endStyles=null),ne(this._element,this._initialStyles),this._state=3)}};function ls(i){let t=null;return i.forEach((e,s)=>{Ca(s)&&(t=t||new Map,t.set(s,e))}),t}function Ca(i){return i==="display"||i==="position"}var Tt=class{constructor(t,e,s,r){this.element=t,this.keyframes=e,this.options=s,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(s=>{e.push(Object.fromEntries(s))}),e}_triggerWebAnimation(t,e,s){return t.animate(this._convertKeyframesToObject(e),s)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((s,r)=>{r!=="offset"&&t.set(r,this._finished?s:Ms(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}},bt=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Ur(t,e)}getParentElement(t){return Ps(t)}query(t,e,s){return Br(t,e,s)}computeStyle(t,e,s){return Ms(t,e)}animate(t,e,s,r,n,o=[]){let a=r==0?"both":"forwards",l={duration:s,delay:r,fill:a};n&&(l.easing=n);let c=new Map,h=o.filter(g=>g instanceof Tt);Yo(s,r)&&h.forEach(g=>{g.currentSnapshot.forEach((p,f)=>c.set(f,p))});let u=Go(e).map(g=>new Map(g));u=Zo(t,u,c);let d=Ma(t,u);return new Tt(t,u,l,d)}};var mt="@",Zr="@.disabled",wt=class{constructor(t,e,s,r){this.namespaceId=t,this.delegate=e,this.engine=s,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,s,r=!0){this.delegate.insertBefore(t,e,s),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,s,r){this.delegate.setAttribute(t,e,s,r)}removeAttribute(t,e,s){this.delegate.removeAttribute(t,e,s)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,s,r){this.delegate.setStyle(t,e,s,r)}removeStyle(t,e,s){this.delegate.removeStyle(t,e,s)}setProperty(t,e,s){e.charAt(0)==mt&&e==Zr?this.disableAnimations(t,!!s):this.delegate.setProperty(t,e,s)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,s){return this.delegate.listen(t,e,s)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},bs=class extends wt{constructor(t,e,s,r,n){super(e,s,r,n),this.factory=t,this.namespaceId=e}setProperty(t,e,s){e.charAt(0)==mt?e.charAt(1)=="."&&e==Zr?(s=s===void 0?!0:!!s,this.disableAnimations(t,s)):this.engine.process(this.namespaceId,t,e.slice(1),s):this.delegate.setProperty(t,e,s)}listen(t,e,s){if(e.charAt(0)==mt){let r=Da(t),n=e.slice(1),o="";return n.charAt(0)!=mt&&([n,o]=Oa(n)),this.engine.listen(this.namespaceId,r,n,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,s,a)})}return this.delegate.listen(t,e,s)}};function Da(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function Oa(i){let t=i.indexOf("."),e=i.substring(0,t),s=i.slice(t+1);return[e,s]}var Rt=class{constructor(t,e,s){this.delegate=t,this.engine=e,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,n)=>{let o=n?.parentNode(r);o&&n.removeChild(o,r)}}createRenderer(t,e){let s="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,h=c.get(r);if(!h){let u=()=>c.delete(r);h=new wt(s,r,this.engine,u),c.set(r,h)}return h}let n=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(n,o,t,c.name,c)};return e.data.animation.forEach(a),new bs(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,s){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(s));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(n=>{let[o,a]=n;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,s])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Fa=(()=>{class i extends Fe{constructor(e,s,r){super(e,s,r,Ae(yi,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(s){return new(s||i)(E(vi),E(be),E(we))}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac})}}return i})();function La(){return new St}function xa(i,t,e){return new Rt(i,t,e)}var Jr=[{provide:we,useFactory:La},{provide:Fe,useClass:Fa},{provide:Si,useFactory:xa,deps:[wi,Fe,tt]}],$a=[{provide:be,useFactory:()=>new bt},{provide:Zt,useValue:"BrowserAnimations"},...Jr],wl=[{provide:be,useClass:Is},{provide:Zt,useValue:"NoopAnimations"},...Jr];function en(){return Ai("NgEagerAnimations"),[...$a]}var Pt=class{http;prefix;suffix;constructor(t,e="/assets/i18n/",s=".json"){this.http=t,this.prefix=e,this.suffix=s}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}};var Ds=(()=>{class i{constructor(e,s){this.store=e,this.router=s}canActivate(e,s){return this.checkAuthentication(s.url)}canActivateChild(e,s){return this.checkAuthentication(s.url)}checkAuthentication(e){return this.store.select(nt).pipe(C(s=>s?!0:(this.router.navigate(["/authentication"]),!1)),te(s=>{s||console.log("User not authenticated, redirecting to login")}))}static{this.\u0275fac=function(s){return new(s||i)(E(ie),E(Ne))}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ae=X,sn=(()=>{class i{constructor(e){this.http=e}checkPhone(e){return this.http.get(`${ae.API_URL}/auth/check-phone/${e}`)}checkPassword(e,s){return this.http.post(`${ae.API_URL}/auth/check-password/${e}`,s)}register(e){return this.http.post(`${ae.API_URL}/auth`,e)}updateItem(e,s){return this.http.put(`${ae.API_URL}/auth/${e}`,s)}updatePassword(e,s){return this.http.put(`${ae.API_URL}/auth/update-password/${e}`,s)}login(e){return this.http.get(`${ae.API_URL}login.json`).pipe(te(s=>{localStorage.setItem(ae.CURRENT_USER,JSON.stringify(s.data))}))}logout(){return this.http.get(`${ae.API_URL}login.json`,{})}refreshToken(e){return this.http.post(`${ae.API_URL}/auth/refresh`,{refreshToken:e,expiresInMins:ae.REFRESH_TOKEN_TIME})}static{this.\u0275fac=function(s){return new(s||i)(E(me))}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var rn=X,nn=(i,t)=>{let e=Ae(Ne),s=Ae(ie);return new $e(r=>{if(rn.CURRENT_USER in localStorage){let n=JSON.parse(localStorage.getItem(rn.CURRENT_USER)??"");s.dispatch(le({user:n}))}s.pipe(Ce(nt),te(n=>{console.log("tap() - Auth state detected:",n),n?(e.navigate(["/modules"]),r.next(!1)):r.next(!0)}),C(n=>!n)).subscribe(n=>{r.next(n),r.complete()})})};var on=[{path:"landing-page",loadComponent:()=>import("./chunk-HW5PYAST.js").then(i=>i.LandingPageComponent),data:{breadcrumb:"Modules",title:"Modules"}},{path:"main-page",loadChildren:()=>import("./chunk-AMZLK3MA.js").then(i=>i.MainPagesRouting),data:{breadcrumb:"main-page",title:"main-page"}},{path:"modules",loadChildren:()=>import("./chunk-UZH76EYY.js").then(i=>i.ModulesRouting),canActivate:[Ds],canActivateChild:[Ds],data:{breadcrumb:"Modules",title:"Modules"}},{path:"authentication",loadChildren:()=>import("./chunk-6BGPAR4G.js").then(i=>i.AuthenticationRouting),canActivate:[nn],data:{breadcrumb:"Authentication",title:"Authentication"}},{path:"errors",loadChildren:()=>import("./chunk-32KFY2V4.js").then(i=>i.ErrorsRouting),data:{breadcrumb:"Errors",title:"Errors"}},{path:"",redirectTo:"landing-page",pathMatch:"full"},{path:"**",redirectTo:"errors"}];var Ge="PERFORM_ACTION",Ua="REFRESH",pn="RESET",fn="ROLLBACK",dn="COMMIT",mn="SWEEP",gn="TOGGLE_ACTION",Ba="SET_ACTIONS_ACTIVE",yn="JUMP_TO_STATE",Sn="JUMP_TO_ACTION",Qs="IMPORT_STATE",An="LOCK_CHANGES",En="PAUSE_RECORDING",Le=class{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=Ge,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},ks=class{constructor(){this.type=Ua}},Fs=class{constructor(t){this.timestamp=t,this.type=pn}},Ls=class{constructor(t){this.timestamp=t,this.type=fn}},xs=class{constructor(t){this.timestamp=t,this.type=dn}},$s=class{constructor(){this.type=mn}},js=class{constructor(t){this.id=t,this.type=gn}};var zs=class{constructor(t){this.index=t,this.type=yn}},Us=class{constructor(t){this.actionId=t,this.type=Sn}},Bs=class{constructor(t){this.nextLiftedState=t,this.type=Qs}},qs=class{constructor(t){this.status=t,this.type=An}},Ks=class{constructor(t){this.status=t,this.type=En}};var Dt=new je("@ngrx/store-devtools Options"),an=new je("@ngrx/store-devtools Initial Config");function _n(){return null}var qa="NgRx Store DevTools";function Ka(i){let t={maxAge:!1,monitor:_n,actionSanitizer:void 0,stateSanitizer:void 0,name:qa,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof i=="function"?i():i,s=e.logOnly?{pause:!0,export:!0,test:!0}:!1,r=e.features||s||t.features;r.import===!0&&(r.import="custom");let n=Object.assign({},t,{features:r},e);if(n.maxAge&&n.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${n.maxAge}`);return n}function ln(i,t){return i.filter(e=>t.indexOf(e)<0)}function vn(i){let{computedStates:t,currentStateIndex:e}=i;if(e>=t.length){let{state:r}=t[t.length-1];return r}let{state:s}=t[e];return s}function We(i){return new Le(i,+Date.now())}function Va(i,t){return Object.keys(t).reduce((e,s)=>{let r=Number(s);return e[r]=Tn(i,t[r],r),e},{})}function Tn(i,t,e){return j(F({},t),{action:i(t.action,e)})}function Qa(i,t){return t.map((e,s)=>({state:bn(i,e.state,s),error:e.error}))}function bn(i,t,e){return i(t,e)}function wn(i){return i.predicate||i.actionsSafelist||i.actionsBlocklist}function Wa(i,t,e,s){let r=[],n={},o=[];return i.stagedActionIds.forEach((a,l)=>{let c=i.actionsById[a];c&&(l&&Ws(i.computedStates[l],c,t,e,s)||(n[a]=c,r.push(a),o.push(i.computedStates[l])))}),j(F({},i),{stagedActionIds:r,actionsById:n,computedStates:o})}function Ws(i,t,e,s,r){let n=e&&!e(i,t.action),o=s&&!t.action.type.match(s.map(l=>cn(l)).join("|")),a=r&&t.action.type.match(r.map(l=>cn(l)).join("|"));return n||o||a}function cn(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Rn(i){return{ngZone:i?Ae(tt):null,connectInZone:i}}var Ot=(()=>{class i extends it{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=mi(i)))(r||i)}})()}static{this.\u0275prov=x({token:i,factory:i.\u0275fac})}}return i})(),Nt={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Vs=new je("@ngrx/store-devtools Redux Devtools Extension"),Pn=(()=>{class i{constructor(e,s,r){this.config=s,this.dispatcher=r,this.zoneConfig=Rn(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,s){if(this.devtoolsExtension)if(e.type===Ge){if(s.isLocked||s.isPaused)return;let r=vn(s);if(wn(this.config)&&Ws(r,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let n=this.config.stateSanitizer?bn(this.config.stateSanitizer,r,s.currentStateIndex):r,o=this.config.actionSanitizer?Tn(this.config.actionSanitizer,e,s.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(o,n))}else{let r=j(F({},s),{stagedActionIds:s.stagedActionIds,actionsById:this.config.actionSanitizer?Va(this.config.actionSanitizer,s.actionsById):s.actionsById,computedStates:this.config.stateSanitizer?Qa(this.config.stateSanitizer,s.computedStates):s.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new $e(e=>{let s=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=s,s.init(),s.subscribe(r=>e.next(r)),s.unsubscribe}):ii}createActionStreams(){let e=this.createChangesObservable().pipe(ui()),s=e.pipe(Pe(c=>c.type===Nt.START)),r=e.pipe(Pe(c=>c.type===Nt.STOP)),n=e.pipe(Pe(c=>c.type===Nt.DISPATCH),C(c=>this.unwrapAction(c.payload)),oi(c=>c.type===Qs?this.dispatcher.pipe(Pe(h=>h.type===ss),ni(1e3),ai(1e3),C(()=>c),B(()=>z(c)),li(1)):z(c))),a=e.pipe(Pe(c=>c.type===Nt.ACTION),C(c=>this.unwrapAction(c.payload))).pipe(et(r)),l=n.pipe(et(r));this.start$=s.pipe(et(r)),this.actions$=this.start$.pipe(de(()=>a)),this.liftedActions$=this.start$.pipe(de(()=>l))}unwrapAction(e){return typeof e=="string"?(0,eval)(`(${e})`):e}getExtensionConfig(e){let s={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(s.maxAge=e.maxAge),s}sendToReduxDevtools(e){try{e()}catch(s){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",s)}}static{this.\u0275fac=function(s){return new(s||i)(E(Vs),E(Dt),E(Ot))}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac})}}return i})(),Ct={type:ts},Ga="@ngrx/store-devtools/recompute",Ha={type:Ga};function In(i,t,e,s,r){if(s)return{state:e,error:"Interrupted by an error up the chain"};let n=e,o;try{n=i(e,t)}catch(a){o=a.toString(),r.handleError(a)}return{state:n,error:o}}function Mt(i,t,e,s,r,n,o,a,l){if(t>=i.length&&i.length===n.length)return i;let c=i.slice(0,t),h=n.length-(l?1:0);for(let u=t;u<h;u++){let d=n[u],g=r[d].action,p=c[u-1],f=p?p.state:s,_=p?p.error:void 0,P=o.indexOf(d)>-1?p:In(e,g,f,_,a);c.push(P)}return l&&c.push(i[i.length-1]),c}function Xa(i,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:We(Ct)},stagedActionIds:[0],skippedActionIds:[],committedState:i,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Ya(i,t,e,s,r={}){return n=>(o,a)=>{let{monitorState:l,actionsById:c,nextActionId:h,stagedActionIds:u,skippedActionIds:d,committedState:g,currentStateIndex:p,computedStates:f,isLocked:_,isPaused:v}=o||t;o||(c=Object.create(c));function P(I){let b=I,k=u.slice(1,b+1);for(let M=0;M<k.length;M++)if(f[M+1].error){b=M,k=u.slice(1,b+1);break}else delete c[k[M]];d=d.filter(M=>k.indexOf(M)===-1),u=[0,...u.slice(b+1)],g=f[b].state,f=f.slice(b),p=p>b?p-b:0}function N(){c={0:We(Ct)},h=1,u=[0],d=[],g=f[p].state,p=0,f=[]}let A=0;switch(a.type){case An:{_=a.status,A=1/0;break}case En:{v=a.status,v?(u=[...u,h],c[h]=new Le({type:"@ngrx/devtools/pause"},+Date.now()),h++,A=u.length-1,f=f.concat(f[f.length-1]),p===u.length-2&&p++,A=1/0):N();break}case pn:{c={0:We(Ct)},h=1,u=[0],d=[],g=i,p=0,f=[];break}case dn:{N();break}case fn:{c={0:We(Ct)},h=1,u=[0],d=[],p=0,f=[];break}case gn:{let{id:I}=a;d.indexOf(I)===-1?d=[I,...d]:d=d.filter(k=>k!==I),A=u.indexOf(I);break}case Ba:{let{start:I,end:b,active:k}=a,M=[];for(let Z=I;Z<b;Z++)M.push(Z);k?d=ln(d,M):d=[...d,...M],A=u.indexOf(I);break}case yn:{p=a.index,A=1/0;break}case Sn:{let I=u.indexOf(a.actionId);I!==-1&&(p=I),A=1/0;break}case mn:{u=ln(u,d),d=[],p=Math.min(p,u.length-1);break}case Ge:{if(_)return o||t;if(v||o&&Ws(o.computedStates[p],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let b=f[f.length-1];f=[...f.slice(0,-1),In(n,a.action,b.state,b.error,e)],A=1/0;break}r.maxAge&&u.length===r.maxAge&&P(1),p===u.length-1&&p++;let I=h++;c[I]=a,u=[...u,I],A=u.length-1;break}case Qs:{({monitorState:l,actionsById:c,nextActionId:h,stagedActionIds:u,skippedActionIds:d,committedState:g,currentStateIndex:p,computedStates:f,isLocked:_,isPaused:v}=a.nextLiftedState);break}case ts:{A=0,r.maxAge&&u.length>r.maxAge&&(f=Mt(f,A,n,g,c,u,d,e,v),P(u.length-r.maxAge),A=1/0);break}case ss:{if(f.filter(b=>b.error).length>0)A=0,r.maxAge&&u.length>r.maxAge&&(f=Mt(f,A,n,g,c,u,d,e,v),P(u.length-r.maxAge),A=1/0);else{if(!v&&!_){p===u.length-1&&p++;let b=h++;c[b]=new Le(a,+Date.now()),u=[...u,b],A=u.length-1,f=Mt(f,A,n,g,c,u,d,e,v)}f=f.map(b=>j(F({},b),{state:n(b.state,Ha)})),p=u.length-1,r.maxAge&&u.length>r.maxAge&&P(u.length-r.maxAge),A=1/0}break}default:{A=1/0;break}}return f=Mt(f,A,n,g,c,u,d,e,v),l=s(l,a),{monitorState:l,actionsById:c,nextActionId:h,stagedActionIds:u,skippedActionIds:d,committedState:g,currentStateIndex:p,computedStates:f,isLocked:_,isPaused:v}}}var un=(()=>{class i{constructor(e,s,r,n,o,a,l,c){let h=Xa(l,c.monitor),u=Ya(l,h,a,c.monitor,c),d=Ht(Ht(s.asObservable().pipe(hi(1)),n.actions$).pipe(C(We)),e,n.liftedActions$).pipe(ri(si)),g=r.pipe(C(u)),p=Rn(c.connectInZone),f=new ti(1);this.liftedStateSubscription=d.pipe(Ie(g),hn(p),ci(({state:P},[N,A])=>{let I=A(P,N);return N.type!==Ge&&wn(c)&&(I=Wa(I,c.predicate,c.actionsSafelist,c.actionsBlocklist)),n.notify(N,I),{state:I,action:N}},{state:h,action:null})).subscribe(({state:P,action:N})=>{if(f.next(P),N.type===Ge){let A=N.action;o.next(A)}}),this.extensionStartSubscription=n.start$.pipe(hn(p)).subscribe(()=>{this.refresh()});let _=f.asObservable(),v=_.pipe(C(vn));Object.defineProperty(v,"state",{value:Li(v,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=_,this.state=v}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new Le(e,+Date.now()))}refresh(){this.dispatch(new ks)}reset(){this.dispatch(new Fs(+Date.now()))}rollback(){this.dispatch(new Ls(+Date.now()))}commit(){this.dispatch(new xs(+Date.now()))}sweep(){this.dispatch(new $s)}toggleAction(e){this.dispatch(new js(e))}jumpToAction(e){this.dispatch(new Us(e))}jumpToState(e){this.dispatch(new zs(e))}importState(e){this.dispatch(new Bs(e))}lockChanges(e){this.dispatch(new qs(e))}pauseRecording(e){this.dispatch(new Ks(e))}static{this.\u0275fac=function(s){return new(s||i)(E(Ot),E(it),E($i),E(Pn),E(zi),E(gi),E(xi),E(Dt))}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac})}}return i})();function hn({ngZone:i,connectInZone:t}){return e=>t?new $e(s=>e.subscribe({next:r=>i.run(()=>s.next(r)),error:r=>i.run(()=>s.error(r)),complete:()=>i.run(()=>s.complete())})):e}var Za=new je("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Ja(i,t){return!!i||t.monitor!==_n}function el(){let i="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[i]<"u"?window[i]:null}function tl(i={}){return fi([Pn,Ot,un,{provide:an,useValue:i},{provide:Za,deps:[Vs,Dt],useFactory:Ja},{provide:Vs,useFactory:el},{provide:Dt,deps:[an],useFactory:Ka},{provide:Ui,deps:[un],useFactory:sl},{provide:ji,useExisting:Ot}])}function sl(i){return i.state}var Nn=(()=>{class i{static instrument(e={}){return{ngModule:i,providers:[tl(e)]}}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=Yt({type:i})}static{this.\u0275inj=Xt({})}}return i})();var kt=D("[Account] Load Accounts",O()),Ft=D("[Account] Load Accounts Success",O()),Lt=D("[Account] Load Accounts Failure",O()),Mn=D("[Account] Create Account",O()),xt=D("[Account] Create Account Success",O()),Cn=D("[Account] Create Account Failure",O()),Dn=D("[Account] Update Account",O()),$t=D("[Account] Update Account Success",O()),On=D("[Account] Update Account Failure",O()),kn=D("[Account] Delete Account",O()),jt=D("[Account] Delete Account Success",O()),Fn=D("[Account] Delete Account Failure",O());var ue=ct({selectId:i=>i._id});var He=rt("accounts"),{selectAll:Gs,selectEntities:xn,selectIds:lc,selectTotal:il}=ue.getSelectors(He),rl=re(He,i=>i.entities),cc=re(xn,rl,(i,t)=>t),uc=re(Gs,xn,il,He,(i,t,e,s)=>{let{pageNo:r,pageSize:n}=s,o=(r-1)*n,a=o+n,l=i.slice(o,a);return{entities:t,total:e,pageNo:r,pageSize:n,data:l}}),hc=re(He,i=>i.accounts),pc=re(He,i=>i.totalData);var xe=X,$n=(()=>{class i extends ut{constructor(e){super(e),this.clientDataSubject=new Ze([]),this.clientData$=this.clientDataSubject.asObservable()}create(e){return this.http.post(`${xe.API_URL}/clients`,e)}getAllItems(e){let{queryParams:s}=this.initializeRequest(e);return this.http.get(`${xe.API_URL}/clients?${s}`).pipe(te(r=>{this.clientDataSubject.next(r.data)}))}updateItem(e,s){return this.http.put(`${xe.API_URL}/clients/${e}`,s)}deleteItem(e){return this.http.delete(`${xe.API_URL}/clients/${e}`)}getItem(e){throw new Error("Method not implemented.")}checkPhone(e){let s={};s.phone=e,s.pageNo=50;let{queryParams:r}=this.initializeRequest(s);return this.http.get(`${xe.API_URL}/clients/check-phone/${e}?${r}`)}search(e,s){let{queryParams:r}=this.initializeRequest(s);return this.http.get(`${xe.API_URL}/clients/search/${e}?${r}`)}static{this.\u0275fac=function(s){return new(s||i)(E(me))}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var zn=(()=>{class i{constructor(e,s,r){this.actions$=e,this.accountsService=s,this.store=r,this.getAllItems$=K(()=>this.actions$.pipe(V(kt),Ie(this.store.pipe(Ce(Gs))),Je(([n,o])=>o.length===0?this.accountsService.getAllItems(n.request).pipe(C(a=>{let l=a.data,c=a.totalData;return Ft({accounts:l,totalData:c})}),B(a=>z(Lt({error:a})))):z()))),this.createAccount$=K(()=>this.actions$.pipe(V(Mn),fe(({account:n})=>this.accountsService.create(n).pipe(C(o=>{let a=o.data[0];return xt({account:a})}),B(o=>z(Cn({error:o}))))))),this.updateAccount$=K(()=>this.actions$.pipe(V(Dn),fe(({id:n,newItem:o})=>this.accountsService.updateItem(n,o).pipe(C(a=>{let l=a.data[0];return $t({account:l})}),B(a=>z(On({error:a}))))))),this.deleteAccount$=K(()=>this.actions$.pipe(V(kn),fe(({accountId:n})=>this.accountsService.deleteItem(n).pipe(C(()=>jt({accountId:n})),B(o=>z(Fn({error:o})))))))}static{this.\u0275fac=function(s){return new(s||i)(E(Oe),E($n),E(ie))}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac})}}return i})();var Un=ue.getInitialState({accounts:[],error:null,loading:!1,selectedId:null,pageNo:0,pageSize:0,totalData:0});var Bn=De(Un,$(kt,(i,{pageNo:t,pageSize:e})=>j(F({},i),{pageNo:t,pageSize:e,loading:!0,error:null})),$(Ft,(i,{accounts:t,totalData:e})=>ue.setAll(t,j(F({},i),{totalData:e,loading:!1}))),$(Lt,(i,{error:t})=>j(F({},i),{error:t,loading:!1})),$(xt,(i,{account:t})=>ue.addOne(t,i)),$($t,(i,{account:t})=>ue.updateOne({id:t._id,changes:t},i)),$(jt,(i,{accountId:t})=>ue.removeOne(t,i)));var zt=D("[Report] Load Reports",O()),Ut=D("[Report] Load Reports Success",O()),Bt=D("[Report] Load Reports Failure",O()),qn=D("[Report] Create Report",O()),qt=D("[Report] Create Report Success",O()),Kn=D("[Report] Create Report Failure",O()),Vn=D("[Report] Update Report",O()),Kt=D("[Report] Update Report Success",O()),Qn=D("[Report] Update Report Failure",O()),Wn=D("[Report] Delete Report",O()),Vt=D("[Report] Delete Report Success",O()),Gn=D("[Report] Delete Report Failure",O());var he=ct({selectId:i=>i._id});var Qt=rt("reports"),{selectAll:Hs,selectEntities:ol,selectIds:Bc,selectTotal:al}=he.getSelectors(Qt),qc=re(Hs,ol,al,Qt,(i,t,e,s)=>{let{pageNo:r,pageSize:n}=s,o=(r-1)*n,a=o+n,l=i.slice(o,a);return{entities:t,total:e,pageNo:r,pageSize:n,data:l}}),Kc=re(Qt,i=>i.reports),Vc=re(Qt,i=>i.totalData);var Xe=X,Xn=(()=>{class i extends ut{constructor(e){super(e),this.clientDataSubject=new Ze([]),this.clientData$=this.clientDataSubject.asObservable()}create(e){return this.http.post(`${Xe.API_URL}/reports`,e)}getAllItems(e){let{queryParams:s}=this.initializeRequest(e);return this.http.get(`${Xe.API_URL}/reports?${s}`).pipe(te(r=>{this.clientDataSubject.next(r.data)}))}updateItem(e,s){return this.http.put(`${Xe.API_URL}/reports/${e}`,s)}deleteItem(e){return this.http.delete(`${Xe.API_URL}/reports/${e}`)}getItem(e){throw new Error("Method not implemented.")}search(e,s){let{queryParams:r}=this.initializeRequest(s);return this.http.get(`${Xe.API_URL}/reports/search/${e}?${r}`)}static{this.\u0275fac=function(s){return new(s||i)(E(me))}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Yn=(()=>{class i{constructor(e,s,r){this.actions$=e,this.reportsService=s,this.store=r,this.getAllItems$=K(()=>this.actions$.pipe(V(zt),Ie(this.store.pipe(Ce(Hs))),Je(([n,o])=>o.length===0?this.reportsService.getAllItems(n.request).pipe(C(a=>{let l=a.data,c=a.totalData;return Ut({reports:l,totalData:c})}),B(a=>z(Bt({error:a})))):z()))),this.createReport$=K(()=>this.actions$.pipe(V(qn),fe(({report:n})=>this.reportsService.create(n).pipe(C(o=>{let a=o.data[0];return qt({report:a})}),B(o=>z(Kn({error:o}))))))),this.updateReport$=K(()=>this.actions$.pipe(V(Vn),fe(({id:n,newItem:o})=>this.reportsService.updateItem(n,o).pipe(C(a=>{let l=a.data[0];return Kt({report:l})}),B(a=>z(Qn({error:a}))))))),this.deleteReport$=K(()=>this.actions$.pipe(V(Wn),fe(({reportId:n})=>this.reportsService.deleteItem(n).pipe(C(()=>Vt({reportId:n})),B(o=>z(Gn({error:o})))))))}static{this.\u0275fac=function(s){return new(s||i)(E(Oe),E(Xn),E(ie))}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac})}}return i})();var Zn=he.getInitialState({reports:[],error:null,loading:!1,selectedId:null,pageNo:0,pageSize:0,totalData:0});var Jn=De(Zn,$(zt,(i,{pageNo:t,pageSize:e})=>j(F({},i),{pageNo:t,pageSize:e,loading:!0,error:null})),$(Ut,(i,{reports:t,totalData:e})=>he.setAll(t,j(F({},i),{totalData:e,loading:!1}))),$(Bt,(i,{error:t})=>j(F({},i),{error:t,loading:!1})),$(qt,(i,{report:t})=>he.addOne(t,i)),$(Kt,(i,{report:t})=>he.updateOne({id:t._id,changes:t},i)),$(Vt,(i,{reportId:t})=>he.removeOne(t,i)));var eo={isAuthenticated:!1,user:{},error:null},to=De(eo,$(le,(i,{user:t})=>j(F({},i),{isAuthenticated:!0,user:t,error:null})),$(ze,(i,{error:t})=>j(F({},i),{isAuthenticated:!1,user:{},error:t})),$(Gi,(i,{user:t})=>j(F({},i),{isAuthenticated:!0,user:t,error:null})),$(Hi,(i,{error:t})=>j(F({},i),{isAuthenticated:!1,user:{},error:t})),$(ot,()=>eo),$(at,(i,{error:t})=>j(F({},i),{error:t})),$(Yi,(i,{user:t})=>j(F({},i),{user:t})));var so={auth:to,accounts:Bn,bills:ir,blogs:nr,branches:ar,categories:cr,clients:hr,employees:fr,offers:mr,orders:yr,reviews:Ar,products:_r,reports:Jn,tags:Tr,teams:wr};function cl(i){return(t,e)=>(e.type===""&&(t=void 0),i(t,e))}var io=[cl];var ul=X,ro=(()=>{class i{constructor(e,s){this.actions$=e,this.authService=s,this.register$=K(()=>this.actions$.pipe(V(Ki),de(r=>this.authService.register(r).pipe(C(n=>{let o=n.data;return Vi({user:o})}),B(n=>z(Qi({error:n}))))))),this.login$=K(()=>this.actions$.pipe(V(qi),de(r=>this.authService.login(r).pipe(C(n=>{let o=n.data;return le({user:o})}),B(n=>z(ze({error:n}))))))),this.refreshToken$=K(()=>this.actions$.pipe(V(Wi),de(()=>this.authService.refreshToken("").pipe(C(r=>le({user:r})),B(r=>z(ze({error:r}))))))),this.logout$=K(()=>this.actions$.pipe(V(Xi),de(()=>this.authService.logout().pipe(C(r=>(console.log("logout",r),localStorage.removeItem(ul.CURRENT_USER),ot({isLogout:!0}))),B(r=>(console.log("error",r),z(at({error:r}))))))),{dispatch:!0})}static{this.\u0275fac=function(s){return new(s||i)(E(Oe),E(sn))}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac})}}return i})();function hl(i){return new Pt(i,"./assets/i18n/",".json")}var pl=di(Bi.forRoot(so,{metaReducers:io}),Nn.instrument({maxAge:25}),tr.forRoot([ro,zn,sr,rr,or,lr,ur,pr,dr,gr,Sr,Er,Yn,vr,br]),Fi.forRoot({defaultLanguage:"en",loader:{provide:Oi,useFactory:hl,deps:[me]}})),no={providers:[en(),Mi(on,Ci({onSameUrlNavigation:"reload"})),Pi(),Ti(bi()),pl]};var oo=X,ao=(()=>{class i{constructor(e,s,r,n,o,a){this.router=e,this.languageService=s,this.themeService=r,this.loaderService=n,this.translateService=o,this.authState=a,this.loader$=this.loaderService.loaderState,console.log("------------------> AppComponent constructor <------------------")}ngOnInit(){this.checkUserInLocalStorage(),this.checkAppLanguage(),this.checkAppTheme(),this.router.events.subscribe(e=>{e instanceof Ii})}checkUserInLocalStorage(){if(oo.CURRENT_USER in localStorage){let e=JSON.parse(localStorage.getItem(oo.CURRENT_USER)??"");this.authState.dispatch(le({user:e}))}}checkAppLanguage(){let e=this.languageService.appLanguage;e.length?this.languageService.appLanguage=e:this.getBrowserLanguage(),this.subscribeLang()}subscribeLang(){this.languageService.language.subscribe(e=>{this.translateService.use(e),this.setDocumentDirection(e)})}getBrowserLanguage(){let e=navigator.languages||[navigator.language];for(let s of e)s.startsWith("en")?this.languageService.appLanguage=lt.English:s.startsWith("ar")&&(this.languageService.appLanguage=lt.Arabic)}setDocumentDirection(e){e===lt.Arabic?(document.documentElement.dir="rtl",document.body.dir="rtl"):(document.documentElement.dir="ltr",document.body.dir="ltr")}checkAppTheme(){this.themeService.appTheme=this.themeService.appTheme,this.subscribeAppTheme()}subscribeAppTheme(){return this.themeService.theme.subscribe(e=>{document.body.setAttribute("data-theme",e)})}static{this.\u0275fac=function(s){return new(s||i)(Ee(Ne),Ee(Ji),Ee(er),Ee(Zi),Ee(ki),Ee(ie))}}static{this.\u0275cmp=pi({type:i,selectors:[["app-root"]],standalone:!0,features:[_i],decls:1,vars:0,template:function(s,r){s&1&&Ei(0,"router-outlet")},dependencies:[Ni]})}}return i})();Ri(ao,no).catch(i=>console.error(i));
