import{a as $}from"./chunk-ZHYFIMSC.js";import{f as E,g as k,h as N,i as g,k as O,n as T,q as D,r as M,s as w,t as A,x as G}from"./chunk-PA4I2Q35.js";import"./chunk-R4K2WD2X.js";import{m as h,n as y,w as x,x as I}from"./chunk-XJBCGK7A.js";import{Ab as s,Cb as n,Ib as c,Jb as p,Kb as P,Sb as C,ac as a,bc as _,cc as l,hb as o,ib as F,ic as f,ra as u,sc as b,tc as S}from"./chunk-UXABPLNP.js";import{a as v}from"./chunk-MON7YFGF.js";function B(t,d){if(t&1&&(c(0,"option",6),a(1),p()),t&2){let e=d.$implicit;n("value",e),o(),_(e)}}function R(t,d){if(t&1&&(c(0,"div")(1,"label"),a(2),p(),c(3,"select",4),s(4,B,2,2,"option",5),p()()),t&2){let e=d.$implicit;o(2),l("",e.name,":"),o(),n("formControlName",e.name),o(),n("ngForOf",e.options)}}function q(t,d){if(t&1&&(c(0,"option",6),a(1),p()),t&2){let e=d.$implicit;n("value",e),o(),_(e)}}function z(t,d){if(t&1&&(c(0,"div")(1,"label"),a(2),p(),c(3,"select",4),s(4,q,2,2,"option",5),p()()),t&2){let e=d.$implicit;o(2),l("",e.name,":"),o(),n("formControlName",e.name),o(),n("ngForOf",e.options)}}function H(t,d){if(t&1&&(c(0,"p"),a(1),p()),t&2){let e=C(2);o(),l("In Stock: ",e.selectedCombination.stock,"")}}function J(t,d){t&1&&(c(0,"p"),a(1,"Out of Stock"),p())}function K(t,d){if(t&1&&(c(0,"div")(1,"p"),a(2),b(3,"currency"),p(),s(4,H,2,1,"p",2)(5,J,2,0,"p",2),p()),t&2){let e=C();o(2),l("Price: ",S(3,3,e.selectedCombination.price),""),o(2),n("ngIf",e.selectedCombination.stock>0),o(),n("ngIf",e.selectedCombination.stock===0)}}var V=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=u({type:t,selectors:[["app-product-presenter"]],inputs:{product:"product",selectedCombination:"selectedCombination",productForm:"productForm"},standalone:!0,features:[f],decls:6,vars:5,consts:[[3,"formGroup"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","submit",3,"disabled"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,i){r&1&&(c(0,"form",0),s(1,R,5,3,"div",1)(2,z,5,3,"div",1)(3,K,6,5,"div",2),c(4,"button",3),a(5,"Add to Cart"),p()()),r&2&&(n("formGroup",i.productForm),o(),n("ngForOf",i.product.dimensions),o(),n("ngForOf",i.product.attributes),o(),n("ngIf",i.selectedCombination),o(),n("disabled",!i.selectedCombination||i.selectedCombination.stock===0))},dependencies:[G,O,w,A,M,E,k,T,D,I,h,y,x],encapsulation:2})}}return t})();var te=(()=>{class t{constructor(e){this.productService=e}ngOnInit(){this.productService.getProduct(1).subscribe(e=>{this.product=e;let r={};this.product.dimensions.forEach(m=>{r[m.name]=new g(m.options[0])});let i={};this.product.attributes.forEach(m=>{i[m.name]=new g(m.options[0])}),this.productForm=new N(v(v({},r),i)),this.checkStockAndPrice(this.productForm.value),this.productForm.valueChanges.subscribe(m=>{console.log("productForm",this.productForm),this.checkStockAndPrice(m)})})}onDimensionChange(e){console.log("onDimensionChange",e)}checkStockAndPrice(e){console.log("selectedValues",e),this.selectedCombination=this.productService.getCombinationDetails(this.product,e)}static{this.\u0275fac=function(r){return new(r||t)(F($))}}static{this.\u0275cmp=u({type:t,selectors:[["app-product-container"]],standalone:!0,features:[f],decls:2,vars:3,consts:[[3,"product","selectedCombination","productForm"]],template:function(r,i){r&1&&(a(0," product container "),P(1,"app-product-presenter",0)),r&2&&(o(),n("product",i.product)("selectedCombination",i.selectedCombination)("productForm",i.productForm))},dependencies:[V],encapsulation:2})}}return t})();export{te as ProductContainerComponent};
