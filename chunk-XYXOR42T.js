import{a as F,b as G,c as I,e as J,f as K}from"./chunk-5SPO2ULR.js";import{a as H}from"./chunk-GZYRISK6.js";import{a as V}from"./chunk-L7L4RKUY.js";import{b as m,c,l as N,m as C,n as D,o as k,s as h,t as B}from"./chunk-5JVEGXLZ.js";import{b as M}from"./chunk-I3TFT3JE.js";import{C as S,N as w,aa as O,ba as E,fa as v,g as z,ka as x,m as d,r as A,t as j}from"./chunk-W3XNKEV5.js";import{a as u,b as f}from"./chunk-MON7YFGF.js";var L=m("[Team] Load Teams",c()),b=m("[Team] Load Teams Success",c()),R=m("[Team] Load Teams Failure",c()),Q=m("[Team] Load Filterd Teams",c()),W=m("[Team] Load Filterd Teams Success",c()),X=m("[Team] Load Filterd Teams Failure",c()),Y=m("[Team] Create Team",c()),U=m("[Team] Create Team Success",c()),Z=m("[Team] Create Team Failure",c()),ee=m("[Team] Update Team",c()),_=m("[Team] Update Team Success",c()),te=m("[Team] Update Team Failure",c()),ae=m("[Team] Delete Team",c()),y=m("[Team] Delete Team Success",c()),se=m("[Team] Delete Team Failure",c());var l=V({selectId:e=>e._id});var P=k("teams"),{selectAll:g,selectEntities:oe,selectIds:he,selectTotal:ie}=l.getSelectors(P),Ae=D(g,oe,ie,P,(e,o,t,i)=>{let{pageNo:n,pageSize:s}=i,r=(n-1)*s,a=r+s,p=e.slice(r,a);return{entities:o,total:t,pageNo:n,pageSize:s,data:p}}),Se=D(g,oe,ie,P,(e,o,t,i)=>{let{pageNo:n,pageSize:s}=i,r=n*s,a=r+s,p=e.slice(r,a);return{entities:o,total:t,pageNo:n,pageSize:s,data:p}}),xe=D(P,e=>e.totalData);var $=H,me=(()=>{class e extends J{constructor(t){super(t),this.clientDataSubject=new z([]),this.clientData$=this.clientDataSubject.asObservable()}create(t){return this.http.post(`${$.API_URL}teams.json`,t)}getAllItems(t){let{queryParams:i}=this.initializeRequest(t);return this.http.get(`${$.API_URL}teams.json`).pipe(O(n=>{this.clientDataSubject.next(n.data)}))}updateItem(t,i){return this.http.put(`${$.API_URL}teams.json`,i)}deleteItem(t){return this.http.delete(`${$.API_URL}teams.json`)}getItem(t){throw new Error("Method not implemented.")}search(t,i){let{queryParams:n}=this.initializeRequest(i);return this.http.get(`${$.API_URL}/teams/search/${t}?${n}`)}static{this.\u0275fac=function(i){return new(i||e)(x(M))}}static{this.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ye=(()=>{class e{constructor(t,i,n){this.actions$=t,this.teamsService=i,this.store=n,this.getAllItems$=F(()=>this.actions$.pipe(I(L),E(this.store.pipe(C(g))),w(([s,r])=>r.length===0?this.teamsService.getAllItems(s.request).pipe(A(a=>{let p=a.data.map(T=>f(u({},T),{id:T.team_id,_id:T.team_id})),q=a.totalData;return b({teams:p,totalData:q})}),S(a=>d(R({error:a})))):d()))),this.getFilterdItems$=F(()=>this.actions$.pipe(I(Q),E(this.store.pipe(C(g))),w(([s,r])=>r.length===0?this.teamsService.getAllItems(s.request).pipe(A(a=>{let p=a.data.map(T=>f(u({},T),{id:T.team_id,_id:T.team_id})),q=a.totalData;return W({teams:p,totalData:q})}),S(a=>d(X({error:a})))):d()))),this.createTeam$=F(()=>this.actions$.pipe(I(Y),j(({team:s})=>this.teamsService.create(s).pipe(A(r=>{let a=r.data[0];return U({team:a})}),S(r=>d(Z({error:r}))))))),this.updateTeam$=F(()=>this.actions$.pipe(I(ee),j(({id:s,newItem:r})=>this.teamsService.updateItem(s,r).pipe(A(a=>{let p=a.data[0];return _({team:p})}),S(a=>d(te({error:a}))))))),this.deleteTeam$=F(()=>this.actions$.pipe(I(ae),j(({teamId:s})=>this.teamsService.deleteItem(s).pipe(A(()=>y({teamId:s})),S(r=>d(se({error:r})))))))}static{this.\u0275fac=function(i){return new(i||e)(x(G),x(me),x(N))}}static{this.\u0275prov=v({token:e,factory:e.\u0275fac})}}return e})();var ce=l.getInitialState(new K);var Ne=B(ce,h(L,(e,{pageNo:o,pageSize:t,sortBy:i,sortOrder:n,filterBy:s,filterValue:r,findById:a})=>f(u({},e),{pageNo:o,pageSize:t,loading:!0,error:null,sortBy:i,sortOrder:n,filterBy:s,filterValue:r,findById:a})),h(b,(e,{teams:o,totalData:t})=>l.setAll(o,f(u({},e),{totalData:t,loading:!1}))),h(R,(e,{error:o})=>f(u({},e),{error:o,loading:!1})),h(U,(e,{team:o})=>l.addOne(o,e)),h(_,(e,{team:o})=>l.updateOne({id:o._id,changes:o},e)),h(y,(e,{teamId:o})=>l.removeOne(o,e)));export{L as a,Q as b,Y as c,ee as d,ae as e,oe as f,ie as g,Se as h,ye as i,Ne as j};
