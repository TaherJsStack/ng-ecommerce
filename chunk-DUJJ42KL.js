import{c as F,f as S,j as R,s as j,u as D}from"./chunk-4V5UOZBX.js";import{d as V}from"./chunk-OJYRZGEA.js";import{D as E,F as b,K as k,e as P,o as I}from"./chunk-CBDC4O62.js";import{Aa as c,Eb as p,Fb as a,Kb as C,Nb as m,Ob as s,Ub as w,Vb as x,Wb as O,Yb as d,ac as M,bc as v,cc as A,db as g,eb as l,ec as T,oa as f,wb as _,xb as y,yb as h,za as u}from"./chunk-WWR4BG2S.js";import"./chunk-MON7YFGF.js";var B=["otpInput"];function L(i,Q){if(i&1){let n=C();p(0,"input",6,0),m("input",function(e){let o=u(n).index,r=s();return c(r.onInputChange(e,o))})("keydown",function(e){let o=u(n).index,r=s();return c(r.onKeyDown(e,o))}),A("ngModelChange",function(e){let o=u(n).index,r=s();return v(r.otpArray[o],e)||(r.otpArray[o]=e),c(e)}),a()}if(i&2){let n=Q.index,t=s();M("ngModel",t.otpArray[n]),y("data-index",n)}}var J=(()=>{class i{constructor(n,t){this.ActivatedRoute=n,this.router=t,this.otpArray=["","","",""]}ngOnInit(){setTimeout(()=>{this.autoFillOtp()},3e3)}onInputChange(n,t){let e=n.target,o=e.value;o&&t<3&&this.otpInputs.toArray()[t+1].nativeElement.focus(),o.length>1&&(e.value=o.slice(0,1)),this.otpArray[t]=e.value}onKeyDown(n,t){let e=n.target;n.key==="Backspace"&&!e.value&&t>0&&this.otpInputs.toArray()[t-1].nativeElement.focus(),n.key==="ArrowLeft"&&t>0&&this.otpInputs.toArray()[t-1].nativeElement.focus(),n.key==="ArrowRight"&&t<3&&this.otpInputs.toArray()[t+1].nativeElement.focus()}getOtpCode(){return this.otpArray.join("")}autoFillOtp(){let n="1234";this.otpArray=n.split(""),this.otpArray.forEach((t,e)=>{setTimeout(()=>{let o=this.otpInputs.toArray()[e].nativeElement;o.value=t,e<3&&this.otpInputs.toArray()[e+1].nativeElement.focus()},e*500)})}sendCode(){console.log(this.getOtpCode()),this.router.navigateByUrl(`/authentication/reset/${this.getOtpCode()}`)}static{this.\u0275fac=function(t){return new(t||i)(l(E),l(b))}}static{this.\u0275cmp=f({type:i,selectors:[["app-otp"]],viewQuery:function(t,e){if(t&1&&w(B,5),t&2){let o;x(o=O())&&(e.otpInputs=o)}},standalone:!0,features:[T],decls:7,vars:1,consts:[["otpInput",""],[1,"otp-input-container"],[1,"mb-3"],[1,"otp-container"],["type","text","maxlength","1","class","otp-input",3,"ngModel","input","keydown","ngModelChange",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","text","maxlength","1",1,"otp-input",3,"input","keydown","ngModelChange","ngModel"]],template:function(t,e){t&1&&(p(0,"div",1)(1,"h1",2),d(2,"Sign in"),a(),p(3,"div",3),_(4,L,2,2,"input",4),a(),p(5,"button",5),m("click",function(){return e.sendCode()}),d(6,"Send"),a()()),t&2&&(g(4),h("ngForOf",e.otpArray))},dependencies:[I,P,k,V,D,F,S,j,R],styles:[".otp-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:20px}.otp-input-container[_ngcontent-%COMP%]   .otp-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:240px}.otp-input-container[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]{width:50px;height:50px;text-align:center;font-size:1.5rem;border:2px solid #ccc;border-radius:5px;outline:none;transition:border-color .2s ease-in-out}.otp-input-container[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:focus{border-color:#007bff}"]})}}return i})();export{J as OTPComponent};
