import{a as F,b as V,c as I,e as G,f as J,g as K}from"./chunk-G7GKDBDS.js";import{a as H}from"./chunk-7NOMDU42.js";import{b as m,c,l as N,m as C,n as D,o as k,s as h,t as B}from"./chunk-VHK6HW5T.js";import{r as M}from"./chunk-CBDC4O62.js";import{B as S,K as w,Z as O,_ as E,ca as v,g as z,ha as x,m as d,r as A,t as j}from"./chunk-WWR4BG2S.js";import{a as u,b as f}from"./chunk-MON7YFGF.js";var L=m("[Team] Load Teams",c()),b=m("[Team] Load Teams Success",c()),R=m("[Team] Load Teams Failure",c()),Q=m("[Team] Load Filterd Teams",c()),W=m("[Team] Load Filterd Teams Success",c()),X=m("[Team] Load Filterd Teams Failure",c()),Y=m("[Team] Create Team",c()),U=m("[Team] Create Team Success",c()),Z=m("[Team] Create Team Failure",c()),ee=m("[Team] Update Team",c()),_=m("[Team] Update Team Success",c()),te=m("[Team] Update Team Failure",c()),ae=m("[Team] Delete Team",c()),y=m("[Team] Delete Team Success",c()),se=m("[Team] Delete Team Failure",c());var l=G({selectId:e=>e._id});var P=k("teams"),{selectAll:g,selectEntities:oe,selectIds:he,selectTotal:ie}=l.getSelectors(P),Ae=D(g,oe,ie,P,(e,o,t,i)=>{let{pageNo:n,pageSize:a}=i,r=(n-1)*a,s=r+a,p=e.slice(r,s);return{entities:o,total:t,pageNo:n,pageSize:a,data:p}}),Se=D(g,oe,ie,P,(e,o,t,i)=>{let{pageNo:n,pageSize:a}=i,r=n*a,s=r+a,p=e.slice(r,s);return{entities:o,total:t,pageNo:n,pageSize:a,data:p}}),xe=D(P,e=>e.totalData);var $=H,me=(()=>{class e extends J{constructor(t){super(t),this.clientDataSubject=new z([]),this.clientData$=this.clientDataSubject.asObservable()}create(t){return this.http.post(`${$.API_URL}teams.json`,t)}getAllItems(t){let{queryParams:i}=this.initializeRequest(t);return this.http.get(`${$.API_URL}teams.json`).pipe(O(n=>{this.clientDataSubject.next(n.data)}))}updateItem(t,i){return this.http.put(`${$.API_URL}teams.json`,i)}deleteItem(t){return this.http.delete(`${$.API_URL}teams.json`)}getItem(t){throw new Error("Method not implemented.")}search(t,i){let{queryParams:n}=this.initializeRequest(i);return this.http.get(`${$.API_URL}/teams/search/${t}?${n}`)}static{this.\u0275fac=function(i){return new(i||e)(x(M))}}static{this.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ye=(()=>{class e{constructor(t,i,n){this.actions$=t,this.teamsService=i,this.store=n,this.getAllItems$=F(()=>this.actions$.pipe(I(L),E(this.store.pipe(C(g))),w(([a,r])=>r.length===0?this.teamsService.getAllItems(a.request).pipe(A(s=>{let p=s.data.map(T=>f(u({},T),{id:T.team_id,_id:T.team_id})),q=s.totalData;return b({teams:p,totalData:q})}),S(s=>d(R({error:s})))):d()))),this.getFilterdItems$=F(()=>this.actions$.pipe(I(Q),E(this.store.pipe(C(g))),w(([a,r])=>(console.log("data --->",r,a),r.length===0?this.teamsService.getAllItems(a.request).pipe(A(s=>{let p=s.data.map(T=>f(u({},T),{id:T.team_id,_id:T.team_id})),q=s.totalData;return W({teams:p,totalData:q})}),S(s=>d(X({error:s})))):d())))),this.createTeam$=F(()=>this.actions$.pipe(I(Y),j(({team:a})=>this.teamsService.create(a).pipe(A(r=>{let s=r.data[0];return U({team:s})}),S(r=>d(Z({error:r}))))))),this.updateTeam$=F(()=>this.actions$.pipe(I(ee),j(({id:a,newItem:r})=>this.teamsService.updateItem(a,r).pipe(A(s=>{let p=s.data[0];return _({team:p})}),S(s=>d(te({error:s}))))))),this.deleteTeam$=F(()=>this.actions$.pipe(I(ae),j(({teamId:a})=>this.teamsService.deleteItem(a).pipe(A(()=>y({teamId:a})),S(r=>d(se({error:r})))))))}static{this.\u0275fac=function(i){return new(i||e)(x(V),x(me),x(N))}}static{this.\u0275prov=v({token:e,factory:e.\u0275fac})}}return e})();var ce=l.getInitialState(new K);var Ne=B(ce,h(L,(e,{pageNo:o,pageSize:t,sortBy:i,sortOrder:n,filterBy:a,filterValue:r,findById:s})=>f(u({},e),{pageNo:o,pageSize:t,loading:!0,error:null,sortBy:i,sortOrder:n,filterBy:a,filterValue:r,findById:s})),h(b,(e,{teams:o,totalData:t})=>l.setAll(o,f(u({},e),{totalData:t,loading:!1}))),h(R,(e,{error:o})=>f(u({},e),{error:o,loading:!1})),h(U,(e,{team:o})=>l.addOne(o,e)),h(_,(e,{team:o})=>l.updateOne({id:o._id,changes:o},e)),h(y,(e,{teamId:o})=>l.removeOne(o,e)));export{L as a,Q as b,Y as c,ee as d,ae as e,oe as f,ie as g,Se as h,ye as i,Ne as j};
