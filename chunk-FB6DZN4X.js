import{a as V,d as L,x as K}from"./chunk-AQZREA66.js";import"./chunk-PNVLM6ZI.js";import{c as H,f as J,g as W,h as X,i as F,k as Y,m as Q,n as Z,q as tt,x as O}from"./chunk-A6LLAQQQ.js";import{l as q,m as U}from"./chunk-7C3VAOG7.js";import{d as P}from"./chunk-GD6QJMTW.js";import{i as G}from"./chunk-DL5MPEQY.js";import{m as D,n as N,t as B,v as $,w as j,x}from"./chunk-4BO4VVDC.js";import{$b as f,Aa as E,Ba as I,Fb as n,Gb as o,Hb as _,Ja as z,Lb as R,Ob as T,Pb as g,Zb as i,a as A,c as k,eb as a,fb as S,fc as v,pa as b,pc as h,qc as C,xb as u,yb as w,zb as d}from"./chunk-GCV2IDJ5.js";import{a as y}from"./chunk-MON7YFGF.js";function it(e,m){if(e&1&&(n(0,"div",22),_(1,"input",23),n(2,"label",24),i(3),o()()),e&2){let t=m.$implicit,r=m.index,c=g(),s=c.$implicit,p=c.index;a(),d("formControlName",s.key)("value",t)("id","flexRadio"+s.key+p+r),w("name","flexRadio"+s.key+p),a(),d("for","flexRadio"+s.key+p+r),a(),f(" ",t," ")}}function ot(e,m){if(e&1&&(n(0,"div",20),i(1),n(2,"div",20),u(3,it,4,6,"div",21),o()()),e&2){let t=m.$implicit;a(),f(" ",t.key,": "),a(2),d("ngForOf",t.value)}}function rt(e,m){if(e&1&&(n(0,"div",22),_(1,"input",23),n(2,"label",24),i(3),o()()),e&2){let t=m.$implicit,r=m.index,c=g(),s=c.$implicit,p=c.index;a(),d("formControlName",s.key)("value",t)("id","flexRadio"+s.key+p+r),w("name","flexRadio"+s.key+p),a(),d("for","flexRadio"+s.key+p+r),a(),f(" ",t," ")}}function at(e,m){if(e&1&&(n(0,"div",20),i(1),n(2,"div",20),u(3,rt,4,6,"div",21),o()()),e&2){let t=m.$implicit;a(),f(" ",t.key," : "),a(2),d("ngForOf",t.value)}}function ct(e,m){if(e&1&&(n(0,"p"),i(1),o()),e&2){let t=g(3);a(),f("In Stock: ",t.selectedCombination.combinationStock,"")}}function st(e,m){e&1&&(n(0,"p"),i(1,"Out of Stock"),o())}function dt(e,m){if(e&1&&(n(0,"div")(1,"p"),i(2),h(3,"currency"),o(),u(4,ct,2,1,"p",18)(5,st,2,0,"p",18),o()),e&2){let t=g(2);a(2),f("Price: ",C(3,3,t.selectedCombination.combinationPrice),""),a(2),d("ngIf",t.selectedCombination.combinationStock>0),a(),d("ngIf",t.selectedCombination.combinationStock===0)}}function mt(e,m){e&1&&(n(0,"div")(1,"p"),i(2,"Please select a valid product combination"),o()())}function pt(e,m){if(e&1){let t=R();n(0,"form",16),T("ngSubmit",function(c){E(t);let s=g();return I(s.onFormChange(c))}),u(1,ot,4,2,"div",17),h(2,"keyvalue"),u(3,at,4,2,"div",17),h(4,"keyvalue"),u(5,dt,6,5,"div",18)(6,mt,3,0,"div",18),n(7,"button",19),i(8,"Add to Cart"),o()()}if(e&2){let t=g();d("formGroup",t.productForm),a(),d("ngForOf",C(2,6,t.dimensions)),a(2),d("ngForOf",C(4,8,t.attributes)),a(2),d("ngIf",t.selectedCombination),a(),d("ngIf",!t.selectedCombination),a(),d("disabled",!t.selectedCombination||t.selectedCombination.combinationStock===0)}}var et=(()=>{class e{constructor(){this.product$=new k,this.selectedCombination={},this.dimensionChange=new z,this.dimensions={size:new Array,height:new Array,length:new Array,width:new Array},this.attributes={fit:new Array,color:new Array,material:new Array,warranty:new Array}}ngOnInit(){this.productForm.statusChanges.subscribe(t=>{console.log("status",t)})}onFormChange(t){console.log("this.productForm",this.productForm.value,t),this.dimensionChange.emit(this.productForm.value)}ngOnDestroy(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=b({type:e,selectors:[["app-product-card"]],inputs:{product$:"product$",selectedCombination:"selectedCombination",productForm:"productForm",dimensions:"dimensions",attributes:"attributes"},outputs:{dimensionChange:"dimensionChange"},standalone:!0,features:[v],decls:49,vars:3,consts:[[1,"card","p-3","m-3"],[1,"row"],[1,"col-md-4"],[1,"product_img"],[1,"product_details"],[1,"title"],[1,"discription"],[1,"price"],[1,"price_original"],[1,"offer"],[1,"other"],[1,"col-md-8"],[1,"product_description"],[1,"highlight"],[1,"special"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"ngSubmit","formGroup"],["class","d-flex",4,"ngFor","ngForOf"],[4,"ngIf"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"d-flex"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio",1,"form-check-input",3,"formControlName","value","id"],[1,"form-check-label",3,"for"]],template:function(r,c){r&1&&(n(0,"div",0)(1,"article",1)(2,"div",2),_(3,"div",3),n(4,"div",4)(5,"h4",5),i(6,"Woakers"),o(),n(7,"p",6),i(8,"Men's White Printed Sneakers"),o(),n(9,"p",7),i(10,"\u20B9824 "),n(11,"span",8),i(12,"\u20B94000"),o(),n(13,"span",9),i(14," 79% OFF"),o()(),n(15,"p",10),i(16,"inclusive of all taxes"),o()()(),n(17,"div",11)(18,"div",12)(19,"h4"),i(20,"PRODUCT DESCRIPTION"),o(),n(21,"p"),i(22,"Elevate your style with this classy pair of Casual Shoes from the house of Our brand. Featuring a contemporary refined design with exceptional comfort, this pair is perfect to give your quintessential dressing an upgrade. "),o(),n(23,"p")(24,"span",13),i(25,"Country of Origin -"),o(),i(26," India "),o(),n(27,"p")(28,"span",13),i(29,"Manufactured By -"),o(),i(30," S.K. INTERNATIONAL AJUDD PURAM BAGDA TAHSIL AGRA U.P. "),n(31,"span",14),i(32,"282001, 9759860599, sheela.woakers gmail.com"),o()(),n(33,"p")(34,"span",13),i(35,"Packed By -"),o(),i(36," S.K. INTERNATIONAL AJUDD PURAM BAGDA TAHSIL AGRA U.P. "),n(37,"span",14),i(38,"282001, 9759860599, sheela.woakers gmail.com"),o()(),n(39,"p")(40,"span",13),i(41,"Commodity -"),o(),i(42," Men's Casual Shoes "),o(),n(43,"p")(44,"span",13),i(45,"Sold By -"),o(),i(46," Next Tree Private Limited "),o()()()(),u(47,pt,9,10,"form",15),h(48,"async"),o()),r&2&&(a(47),d("ngIf",C(48,1,c.product$)))},dependencies:[x,D,N,B,j,$,P,O,Y,H,Q,J,W,Z,tt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Nunito,sans-serif}[_ngcontent-%COMP%]::root{--color1: #53d3d1;--color2: #002447;--color3: #fbeceb;--color4: #feb249}body[_ngcontent-%COMP%]{background:#002447;display:flex;justify-content:center;align-items:center;min-height:100vh}section[_ngcontent-%COMP%]{background:#fbeceb;width:700px;border-radius:5px}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.product_img[_ngcontent-%COMP%]{height:250px;width:230px;margin:10px;border-radius:5px;background:url(https://i.postimg.cc/X799Yjd4/product-1.jpg) no-repeat;background-position:center;background-size:cover}.product_details[_ngcontent-%COMP%]{text-align:left;margin:0 10px 10px;padding:5px}.product_details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.3em;color:#636363;font-weight:900}.product_details[_ngcontent-%COMP%]   .discription[_ngcontent-%COMP%]{margin-top:2px;font-size:.8em;color:gray}.product_details[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{margin-top:4px;font-size:1.1em;font-weight:600;white-space:pre}.product_details[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.product_details[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .price_original[_ngcontent-%COMP%]{text-decoration:line-through;font-size:.7em;font-weight:400;color:gray}.product_details[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .offer[_ngcontent-%COMP%]{color:#03ac13;font-weight:600}.product_details[_ngcontent-%COMP%]   .other[_ngcontent-%COMP%]{font-size:.8em;color:gray}.product_description[_ngcontent-%COMP%]{text-align:left;margin:30px 20px}.product_description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9em;font-weight:900;margin-bottom:20px}.product_description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8em;color:gray;margin-bottom:15px}.product_description[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#636363;font-weight:900}.product_description[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]{font-size:.85em}@media screen and (min-width: 320px) and (max-width: 480px){.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100vw;border-radius:0}section[_ngcontent-%COMP%]{width:100%!important}.product_img[_ngcontent-%COMP%]{width:calc(100vw - 6%)!important;height:350px!important}h4.title[_ngcontent-%COMP%]{font-size:1em!important}p[_ngcontent-%COMP%]{width:90%}p.discription[_ngcontent-%COMP%], p.other[_ngcontent-%COMP%]{font-size:.7em!important}}.form-check[_ngcontent-%COMP%]{background-color:#03ac13}"]})}}return e})();var zt=(()=>{class e{constructor(t,r){this.activatedRoute=t,this.productsStore=r,this.activatedRouteSubscription=new A,this.product$=this.productsStore.pipe(U(K)),this.product={},this.selectedCombination={},this.dimensions={size:new Array,height:new Array,length:new Array,width:new Array},this.attributes={fit:new Array,color:new Array,material:new Array,warranty:new Array}}ngOnInit(){this.dispatchRequest(this.request),this.paramMapSubscribe(),this.product$.subscribe(t=>{this.product=t;let r={},c={};t&&t.combinations.forEach((s,p)=>{Object.keys(t.combinations[p].dimensions).forEach(l=>{this.dimensions[l].some(M=>M===+t.combinations[p].dimensions[l])||(r[l]=new F(+t.combinations[0].dimensions[l]),this.dimensions[l].push(+t.combinations[p].dimensions[l]))}),Object.keys(t.combinations[p].attributes).forEach(l=>{this.attributes[l].some(M=>M===t.combinations[p].attributes[l])||(c[l]=new F(t.combinations[0].attributes[l]),this.attributes[l].push(t.combinations[p].attributes[l]))})}),this.productForm=new X(y(y({},r),c)),this.productForm.valueChanges.subscribe(s=>{this.checkStockAndPrice(s)})})}dispatchRequest(t){this.productsStore.dispatch(V({request:this.request,pageNo:1,pageSize:5e3,sortBy:"",sortOrder:"",filterBy:"",filterValue:"",findById:""}))}paramMapSubscribe(){this.activatedRouteSubscription=this.activatedRoute.params.subscribe(t=>{this.productsStore.dispatch(L({findById:t.id}))})}onFormChange(t){console.log("this.productForm",this.productForm.value,t)}checkStockAndPrice(t){console.log("selectedValues",t),this.selectedCombination=this.getCombinationDetails(this.product,t),console.log("this.selectedCombination",this.selectedCombination)}getCombinationDetails(t,r){return t.combinations.find(c=>Object.keys(r).every(s=>c.dimensions[s]===r[s]||c.attributes[s]===r[s]))}ngOnDestroy(){this.activatedRouteSubscription&&this.activatedRouteSubscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)(S(G),S(q))}}static{this.\u0275cmp=b({type:e,selectors:[["app-product"]],standalone:!0,features:[v],decls:3,vars:5,consts:[[3,"product$","productForm","dimensions","attributes","selectedCombination"]],template:function(r,c){r&1&&(n(0,"p"),i(1,"product works!"),o(),_(2,"app-product-card",0)),r&2&&(a(2),d("product$",c.product$)("productForm",c.productForm)("dimensions",c.dimensions)("attributes",c.attributes)("selectedCombination",c.selectedCombination))},dependencies:[x,P,O,et],styles:['[_ngcontent-%COMP%]:root{--first-color: #E3F8FF;--second-color: #DCFAFB;--third-color: #FFE8DF;--accent-color: #FF5151;--dark-color: #161616}[_ngcontent-%COMP%]:root{--body-font: "Open Sans";--h1-font-size: 1.5rem;--h3-font-size: 1rem;--normal-font-size: .938rem;--smaller-font-size: .75rem}@media screen and (min-width: 768px){[_ngcontent-%COMP%]:root{--h1-font-size: 2rem;--normal-font-size: 1rem;--smaller-font-size: .813rem}}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}h1[_ngcontent-%COMP%]{font-size:var(--h1-font-size)}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none}.main[_ngcontent-%COMP%]{padding:2rem 0}.bd-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));max-width:1200px;margin-left:2.5rem;margin-right:2.5rem;align-items:center;gap:2rem}.title-shop[_ngcontent-%COMP%]{position:relative;margin:0 2.5rem}.title-shop[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;width:72px;height:2px;background-color:var(--dark-color);margin-left:.25rem}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;padding:1.5rem 2rem;border-radius:1rem;overflow:hidden}article[_ngcontent-%COMP%]:nth-child(1){background-color:var(--first-color)}article[_ngcontent-%COMP%]:nth-child(2){background-color:var(--second-color)}article[_ngcontent-%COMP%]:nth-child(3){background-color:var(--third-color)}article[_ngcontent-%COMP%]:nth-child(4){background-color:var(--second-color)}.card__img[_ngcontent-%COMP%]{width:180px;height:auto;padding:3rem 0;transition:.5s}.card__name[_ngcontent-%COMP%]{position:absolute;left:-25%;top:0;width:3.5rem;height:100%;writing-mode:vertical-rl;transform:rotate(180deg);text-align:center;background-color:var(--dark-color);color:#fff;font-weight:700;transition:.5s}.card__icon[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--dark-color)}.card__icon[_ngcontent-%COMP%]:hover{color:var(--accent-color)}.card__precis[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:flex-end;transition:.5s}.card__preci[_ngcontent-%COMP%]{display:block;text-align:center}.card__preci--before[_ngcontent-%COMP%]{font-size:var(--smaller-font-size);color:var(--accent-color);margin-bottom:.25rem}.card__preci--now[_ngcontent-%COMP%]{font-size:var(--h3-font-size);font-weight:700}.card[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem #d1d9e6}.card[_ngcontent-%COMP%]:hover   .card__name[_ngcontent-%COMP%]{left:0}.card[_ngcontent-%COMP%]:hover   .card__img[_ngcontent-%COMP%]{transform:rotate(30deg);margin-left:3.5rem}.card[_ngcontent-%COMP%]:hover   .card__precis[_ngcontent-%COMP%]{margin-left:3.5rem;padding:0 1.5rem}footer[_ngcontent-%COMP%]{text-align:center}@media screen and (min-width: 1200px){body[_ngcontent-%COMP%]{margin:3rem 0 0}.title-shop[_ngcontent-%COMP%]{margin:0 5rem}.bd-grid[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}']})}}return e})();export{zt as ProductComponent};
